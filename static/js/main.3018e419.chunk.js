(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{282:function(e,t,a){e.exports=a(556)},287:function(e,t,a){},346:function(e,t,a){},550:function(e,t,a){},552:function(e,t,a){},556:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(9),i=a.n(l),o=(a(287),a(24)),s=a(31),c=a(30),d=a(32),u=a(573),p=a(563),m=a(572),f=a(557),h=a(10),y=a(571),g=a(570),b=a(560),x=a(561),E=y.a.Header,v=y.a.Content,w=y.a.Sider,C=y.a.Footer,k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a.render=function(){return r.a.createElement(y.a,{style:{height:"100%",overflow:"auto"}},r.a.createElement(g.a,{title:r.a.createElement("span",{style:{fontWeight:"bolder",fontSize:"1.5em",color:"#618833"}},"NotFound"),placement:a.state.placement,onClose:a.onClose,visible:a.state.visible,style:{padding:"24px 0px"}},a.props.menu),r.a.createElement(w,{breakpoint:"lg",collapsedWidth:"0",width:250,onBreakpoint:function(e){},onCollapse:function(e,t){},style:{background:"#fff"}},r.a.createElement("div",{className:"logo"},"NotFound"),a.props.menu),r.a.createElement(y.a,null,r.a.createElement(E,{style:{background:"#8bc34a",padding:"0px 14px"}},r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",style:{height:"100%"}},r.a.createElement(x.a,{className:"hide"},r.a.createElement(h.a,{className:"trigger",type:"menu-fold",onClick:a.showDrawer})),r.a.createElement(x.a,null,r.a.createElement("h2",{style:{margin:"0px"}},a.props.titlePage)),r.a.createElement(x.a,null,r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",style:{height:"100%"}})))),r.a.createElement(v,{style:{padding:"20px 14px 45px 14px",boxSizing:"border-box",height:"100%",overflow:"auto"}},a.props.content),r.a.createElement(C,{style:{textAlign:"center",bottom:"0px",width:"100%",background:"#618833",padding:"10px "}},"NotFound \xa92018 Created by Leo Jaimesson")))},a.state={visible:!1,placement:"left"},a}return Object(d.a)(t,e),t}(n.Component),D=a(34),O=a(13),S=a.n(O),j=a(20),W=a(35),I=a(565),T=a(265),q=a(569),R=a(81),F=a(562),M=a(14),Y=a.n(M),B=(a(346),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"board",style:{height:this.props.height,width:this.props.width}},this.props.children)}}]),t}(n.Component)),A=a(132),K=a(133),P=a(100),L=a(134),H=a.n(L),V=function(){function e(t){Object(o.a)(this,e),this.url=t,this.request=H.a.create({baseURL:t,timeout:3e4,headers:{"Content-Type":"application/json"}})}return Object(W.a)(e,[{key:"getAllWasteByPeriod",value:function(){var e=Object(j.a)(S.a.mark(function e(t,a,n){var r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/all-wastes?period=".concat(t,"&interval=").concat(a,"&idTypeSolidWaste=").concat(n||""));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAllWasteByPeriodFull",value:function(){var e=Object(j.a)(S.a.mark(function e(t,a,n){var r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/all-wastes-full?period=".concat(t,"&interval=").concat(a,"&idTypeSolidWaste=").concat(n||""));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getWastesByPeriod",value:function(){var e=Object(j.a)(S.a.mark(function e(t,a,n){var r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/roda?startDate=".concat(t,"&endDate=").concat(a,"&idTypeSolidWaste=").concat(n||""));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getWastesByPeriodFull",value:function(){var e=Object(j.a)(S.a.mark(function e(t,a,n){var r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/roda-full?startDate=".concat(t,"&endDate=").concat(a,"&idTypeSolidWaste=").concat(n||""));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getWasteByPeriod",value:function(){var e=Object(j.a)(S.a.mark(function e(t,a,n){var r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/wastes?period=".concat(t,"&interval=").concat(a,"&idTypeSolidWaste=").concat(n||""));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),z=I.a.Item,N=T.a.Option,_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(j.a)(S.a.mark(function e(t,n){var r,l,i,o,s,c,d;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=11;break}return e.next=3,a.dataClient.getAllWasteByPeriod(n.period,n.interval);case 3:r=e.sent,l=r.data.filter(function(e){return e.data>0}),i=l.reduce(function(e,t){return e+t.data},0),o=l.map(function(e){var t={};return t[e.name]=e.data,t.residuos=e.name,t}),s=l.map(function(e){return e.name}),c=l.map(function(e){return e.color}),d=l.map(function(e){var t={};return t.id=e.name,t.label=e.name,t.value=(e.data/i*100).toFixed(2),t}),a.setState({datas:o||[],colors:c,keys:s,pieData:d,totalKg:i});case 11:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.dataClient=new V("https://notfound-beta.herokuapp.com/datas"),a.state={datas:[],colors:[],keys:[],pieData:[],totalKg:0,timeLine:[],legend:[]},a}return Object(d.a)(t,e),Object(W.a)(t,[{key:"componentWillMount",value:function(){var e=Object(j.a)(S.a.mark(function e(){var t,a,n,r,l,i,o,s,c,d,u,p,m;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataClient.getAllWasteByPeriod("WEEK",1);case 2:return t=e.sent,a=t.data.filter(function(e){return e.data>0}),n=new Date(2018,0,1,0,0,0),r=new Date(2018,11,31,11,59,59),e.next=8,this.dataClient.getWastesByPeriodFull(n,r);case 8:e.t0=function(e,t){return Object(D.a)(e).concat(Object(D.a)(t.data))},e.t1=[],e.t2=function(e){return e.collectionDate=new Date(e.collectionDate),e.collectionDate.setHours(0),e.collectionDate.setMinutes(0),e.collectionDate.setSeconds(0),e},l=e.sent.data.reduce(e.t0,e.t1).map(e.t2),i={},l.forEach(function(e){i[e.collectionDate]?i[e.collectionDate].value+=e.quantityCollected:i[e.collectionDate]={day:Y()(e.collectionDate).format("YYYY-MM-DD"),value:e.quantityCollected}}),o=Object.keys(i).map(function(e){return i[e]}),s=a.reduce(function(e,t){return e+t.data},0),c=a.map(function(e){var t={};return t[e.name]=e.data,t.residuos=e.name,t}),d=a.map(function(e){return e.name}),u=a.map(function(e){return e.color}),p=a.map(function(e){var t={};return t.id=e.name,t.label=e.name,t.value=parseFloat((e.data/s*100).toFixed(2)),t}),m=a.map(function(e){return{name:e.name,color:e.color}}),this.setState({datas:c||[],colors:u,keys:d,pieData:p,totalKg:s,timeLine:o,legend:m});case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=.5*window.innerHeight;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"10px 0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:24}},r.a.createElement(I.a,{layout:"inline",onSubmit:this.handleSubmit,style:{float:"right"}},r.a.createElement(z,null,r.a.createElement("span",null,"Periodo")),r.a.createElement(z,null,e("interval",{rules:[{required:!0,message:"O intervalo \xe9 obrigat\xf3rio!"}],initialValue:1})(r.a.createElement(q.a,{min:1}))),r.a.createElement(z,null,e("period",{rules:[{required:!0,message:"O periodo \xe9 obrigatorio!"}],initialValue:"WEEK"})(r.a.createElement(T.a,{style:{width:120}},r.a.createElement(N,{value:"DAY"},"Dia"),r.a.createElement(N,{value:"WEEK"},"Semana"),r.a.createElement(N,{value:"MONTH"},"M\xeas"),r.a.createElement(N,{value:"YEAR"},"Ano")))),r.a.createElement(z,null,r.a.createElement(R.a,{type:"primary",htmlType:"submit"},"Consultar"))))),r.a.createElement(b.a,{gutter:24},r.a.createElement(x.a,{xs:{span:24},lg:{span:12}},r.a.createElement(B,null,r.a.createElement(F.a,{orientation:"left"}," ",r.a.createElement("h3",{style:{color:"#618833"}},"Res\xedduos produzidos em Kg")),r.a.createElement("div",{style:{height:"".concat(t,"px")}},r.a.createElement(A.ResponsiveBar,{margin:{top:40,right:50,bottom:40,left:50},axisBottom:null,data:this.state.datas,indexBy:"residuos",keys:this.state.keys,colors:this.state.colors,padding:.2,labelTextColor:"#ffffff",labelSkipWidth:12,labelSkipHeight:12,animate:!0,motionStiffness:90,motionDamping:15})),r.a.createElement("div",null,this.state.legend.map(function(e){return r.a.createElement("div",{key:"bar-".concat(e.name),style:{display:"flex",alignItems:"center",marginRight:"20px",marginLeft:"10px"}},r.a.createElement("div",{style:{height:"10px",width:"10px",background:e.color}}),r.a.createElement("span",{style:{marginLeft:"5px"}},e.name))})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:12}},r.a.createElement(B,null,r.a.createElement(F.a,{orientation:"left"},r.a.createElement("h3",{style:{color:"#618833"}},"Res\xedduos produzidos em percentual")),r.a.createElement("div",{style:{height:"".concat(t,"px")}},r.a.createElement(K.ResponsivePie,{margin:{top:40,right:50,bottom:55,left:50},data:this.state.pieData,animate:!0,innerRadius:.6,padAngle:1,cornerRadius:3,colors:this.state.colors,radialLabelsLinkColor:"inherit",radialLabelsLinkStrokeWidth:3,radialLabelsTextColor:"inherit:darker(1.2)"})),r.a.createElement("div",null,this.state.legend.map(function(e){return r.a.createElement("div",{key:"pie-".concat(e.name),style:{display:"flex",alignItems:"center",marginRight:"20px",marginLeft:"10px"}},r.a.createElement("div",{style:{height:"10px",width:"10px",background:e.color}}),r.a.createElement("span",{style:{marginLeft:"5px"}},e.name))})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:24}},r.a.createElement(B,null,r.a.createElement(F.a,{orientation:"left"},r.a.createElement("h3",{style:{color:"#618833"}},"Foram coletados ",this.state.totalKg.toFixed(2)," Kg de residuos este ano")),r.a.createElement("div",{style:{height:"".concat(t,"px")}},r.a.createElement(P.ResponsiveCalendar,{margin:{top:50,right:10,bottom:0,left:50},from:"2018-01-01T03:00:00.000Z",to:"2018-12-31T03:00:00.000Z",data:this.state.timeLine,emptyColor:"#eeeeee",yearSpacing:40,monthBorderColor:"#ffffff",monthLegendOffset:10,dayBorderWidth:2,dayBorderColor:"#ffffff",legends:[{anchor:"bottom-right",direction:"row",translateY:-80,itemCount:4,itemWidth:34,itemHeight:36,itemDirection:"top-to-bottom"}]}))))))}}]),t}(n.Component),Z=I.a.create()(_),J=a(58),U=a(558),G=a(567),Q=a(568),$=a(189),X=a(564),ee=function(){function e(t){Object(o.a)(this,e),this.url=t,this.request=H.a.create({baseURL:t,timeout:3e4,headers:{"Content-Type":"application/json"}})}return Object(W.a)(e,[{key:"save",value:function(){var e=Object(j.a)(S.a.mark(function e(t){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.post("/",JSON.stringify(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(j.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(j.a)(S.a.mark(function e(t){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.delete("?id=".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),te=function(e){var t=[];return e.recyclable&&t.push("recyclable"),e.reutilable&&t.push("reutilable"),t},ae={toUsersListData:function(e){return e.map(function(e){return{key:e._id,name:e.firstName,email:e.email}})},toTypesSolidWasteData:function(e){return e.map(function(e){return{key:e._id,name:e.name,description:e.description,color:e.color,tags:te(e)}})},toSolidWasteCollectedData:function(e){return e.map(function(e){return{key:e._id,typeWasted:e.typeWasted.name,quantityCollected:e.quantityCollected,color:e.typeWasted.color,collectionDate:Y()(new Date(e.collectionDate)).format("DD/MM/YYYY")}})},toTags:te},ne=I.a.Item,re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).showModal=function(){a.setState({modalVisible:!0})},a.handleOk=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(){var e=Object(j.a)(S.a.mark(function e(t,n){var r,l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return r={name:n.name.toUpperCase(),description:n.description,recyclable:a.state.isRecyclable,reutilable:a.state.isReutilable,color:n.color},e.next=4,a.typeSolidWasteClient.save(r);case 4:l=e.sent,a.setState({typesSolidWaste:[{color:l.data.color,key:l.data._id,name:l.data.name,description:l.data.description,tags:ae.toTags(l.data)}].concat(Object(D.a)(a.state.typesSolidWaste)),modalVisible:!1,isRecyclable:!1,isReutilable:!1}),a.props.form.resetFields();case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleCancel=function(e){a.setState({modalVisible:!1,isRecyclable:!1,isReutilable:!1})},a.handleChangeCheckRecyclable=function(e){a.setState({isRecyclable:e.target.checked})},a.handleChangeCheckReutilable=function(e){a.setState({isReutilable:e.target.checked})},a.handleChangeTable=function(e,t,n){a.setState({filteredInfo:t})},a.render=function(){var e=a.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:15}}},n=[{title:"",dataIndex:"color",key:"color",width:20,render:function(e){return r.a.createElement("div",{style:{width:"10px",height:"10px",background:e}})}},{title:"Nome",dataIndex:"name",key:"name",width:500},{title:"Descri\xe7\xe3o",dataIndex:"description",key:"description",width:600},{title:"",key:"tags",dataIndex:"tags",render:function(e){return r.a.createElement("span",null,e.map(function(e){return r.a.createElement(U.a,{color:"blue",key:e},"recyclable"===(t=e)?"Recicl\xe1vel":"reutilable"===t?"Reutiliz\xe1vel":"");var t}))},filters:a.state.filters,filteredValue:a.state.filteredInfo.tags||null,onFilter:function(e,t){return console.log(e),t.tags.includes(e)}},{title:"A\xe7\xe3o",key:"action",render:function(e,t){return r.a.createElement(R.a,{type:"danger",icon:"delete",onClick:a.modalExcluir.bind(Object(J.a)(Object(J.a)(a)),e.key)})}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",style:{marginBottom:"20px"}},r.a.createElement(x.a,null,r.a.createElement(R.a,{type:"primary",shape:"circle",icon:"plus",size:"large",style:{height:"50px",width:"50px",position:"fixed",bottom:"50px",right:"10px",zIndex:"999"},onClick:a.showModal}))),r.a.createElement(G.a,{title:"Cadastrar no tipo de res\xedduo",visible:a.state.modalVisible,okText:"Cadastrar",onOk:a.handleOk,onCancel:a.handleCancel},r.a.createElement(I.a,null,r.a.createElement(ne,Object.assign({},t,{label:"Nome"}),e("name",{rules:[{required:!0,message:"Por favor digite o nome do tipo de res\xedduo"}]})(r.a.createElement(Q.a,null))),r.a.createElement(ne,Object.assign({},t,{label:"Descri\xe7\xe3o"}),e("description",{rules:[{required:!0,message:"Por favor digite a descri\xe7\xe3o do tipo de res\xedduo"}]})(r.a.createElement(Q.a,null))),r.a.createElement(ne,Object.assign({},t,{label:"Cor"}),e("color",{rules:[{required:!0,message:"Por favor selecione uma cor para este tipo de res\xedduo"}]})(r.a.createElement(Q.a,{type:"color",onChange:function(e){}}))),r.a.createElement(ne,{labelCol:{span:4},wrapperCol:{xs:{span:12,offset:0},sm:{span:12,offset:7}}},r.a.createElement($.a,{onClick:a.handleChangeCheckRecyclable},"Recicl\xe1vel"),r.a.createElement($.a,{onClick:a.handleChangeCheckReutilable},"Reutiliz\xe1vel")))),r.a.createElement(X.a,{columns:n,onChange:a.handleChangeTable,bordered:!0,dataSource:a.state.typesSolidWaste,scroll:window.innerWidth<=600?{x:900}:void 0,style:{background:"white"}}))},a.typeSolidWasteClient=new ee("https://notfound-beta.herokuapp.com/types-solid-waste"),a.state={modalVisible:!1,visibleModalExcluir:!1,isRecyclable:!1,isReutilable:!1,typesSolidWaste:[],filters:[],filteredInfo:{}},a}return Object(d.a)(t,e),Object(W.a)(t,[{key:"componentWillMount",value:function(){var e=Object(j.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.typeSolidWasteClient.getAll();case 2:t=e.sent,this.setState({typesSolidWaste:t?ae.toTypesSolidWasteData(t.data).reverse():[]});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"modalExcluir",value:function(e){var t=this;G.a.error({title:"Deseja realmente excluir este tipo de residuo?",cancelText:"Cancelar",okCancel:!0,okText:"Excluir",onOk:function(){var a=Object(j.a)(S.a.mark(function a(){var n;return S.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.typeSolidWasteClient.remove(e);case 2:n=a.sent,t.setState({typesSolidWaste:t.state.typesSolidWaste.filter(function(e){return e.key!==n.data._id})});case 4:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}()})}}]),t}(n.Component),le=I.a.create()(re),ie=a(566),oe=function(e){return e.map(function(e){return{text:e.name,value:e.name}})},se=I.a.Item,ce=T.a.Option,de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).modalExcluir=function(e){G.a.error({title:"Deseja realmente excluir esta coleta?",cancelText:"Cancelar",okCancel:!0,okText:"Excluir",onOk:function(){var t=Object(j.a)(S.a.mark(function t(){var n;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.solidWasteCollectedClient.remove(e);case 2:n=t.sent,a.setState({solidsWasteCollected:a.state.solidsWasteCollected.filter(function(e){return e.key!==n.data._id})});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},a.showModal=function(){a.setState({modalVisible:!0})},a.handleOk=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(){var e=Object(j.a)(S.a.mark(function e(t,n){var r,l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return r={typeWasted:n.typeWasted,quantityCollected:n.quantityCollected-0,collectionDate:n.collectionDate?n.collectionDate:null},e.next=4,a.solidWasteCollectedClient.save(r);case 4:l=e.sent,a.setState({solidsWasteCollected:[{key:l.data._id,typeWasted:l.data.typeWasted.name,color:l.data.typeWasted.color,collectionDate:Y()(new Date(l.data.collectionDate)).format("DD/MM/YYYY"),quantityCollected:l.data.quantityCollected}].concat(Object(D.a)(a.state.solidsWasteCollected)),modalVisible:!1}),a.props.form.resetFields();case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleCancel=function(e){a.setState({modalVisible:!1})},a.handleChangeSelect=function(e){a.setState({typeSelected:e})},a.handleChangeDate=function(e,t){a.setState({collectionDate:t})},a.handleChangeTable=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.render=function(){var e=a.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:15}}},n=[{title:"",dataIndex:"color",key:"color",width:20,render:function(e){return r.a.createElement("div",{style:{width:"10px",height:"10px",background:e}})}},{title:"Data",dataIndex:"collectionDate",key:"collectionDate",width:150,sorter:function(e,t){var a=e.collectionDate.split("/"),n=t.collectionDate.split("/");return new Date(parseInt(a[2]),parseInt(a[1])-1,parseInt(a[0]))-new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]))},sortOrder:"collectionDate"===a.state.sortedInfo.columnKey&&a.state.sortedInfo.order},{title:"Total coletado",dataIndex:"quantityCollected",key:"quantityCollected",width:200,render:function(e,t){return"".concat(e," Kg")},sorter:function(e,t){return e.quantityCollected-t.quantityCollected},sortOrder:"quantityCollected"===a.state.sortedInfo.columnKey&&a.state.sortedInfo.order},{title:"Tipo",dataIndex:"typeWasted",key:"typeWasted",filters:a.state.filters,filteredValue:a.state.filteredInfo.typeWasted||null,onFilter:function(e,t){return t.typeWasted.includes(e)}},{title:"A\xe7\xe3o",key:"acti  on",render:function(e,t){return r.a.createElement(R.a,{type:"danger",icon:"delete",onClick:a.modalExcluir.bind(Object(J.a)(Object(J.a)(a)),e.key)})}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",style:{marginBottom:"20px"}},r.a.createElement(x.a,null,r.a.createElement(R.a,{type:"primary",shape:"circle",icon:"plus",size:"large",style:{height:"50px",width:"50px",position:"fixed",bottom:"50px",right:"10px",zIndex:"999"},onClick:a.showModal}))),r.a.createElement(G.a,{title:"Cadastrar Coleta",visible:a.state.modalVisible,okText:"Cadastrar",cancelText:"Cancelar",onOk:a.handleOk,onCancel:a.handleCancel},r.a.createElement(I.a,null,r.a.createElement(se,Object.assign({},t,{label:"Tipo de Residuo"}),e("typeWasted",{rules:[{required:!0,message:"Por favor selecione o tipo de res\xedduo coletado"}]})(r.a.createElement(T.a,{placeholder:"Selecione o tipo de residuo",onChange:a.handleChangeSelect},a.state.typesSolidWaste.map(function(e){return r.a.createElement(ce,{value:e._id,key:e._id},e.name)})))),r.a.createElement(se,Object.assign({},t,{label:"Quantidade em Kg"}),e("quantityCollected",{rules:[{required:!0,message:"Por favor informe a quantidade coletada"}]})(r.a.createElement(q.a,{min:0,style:{width:"100%"}}))),r.a.createElement(se,Object.assign({},t,{label:"Data"}),e("collectionDate",{rules:[{required:!1}],initialValue:Y()(new Date)})(r.a.createElement(ie.a,null))))),r.a.createElement(X.a,{columns:n,onChange:a.handleChangeTable,bordered:!0,dataSource:a.state.solidsWasteCollected,scroll:window.innerWidth<=600?{x:1e3}:void 0,style:{background:"white"}}))},a.solidWasteCollectedClient=new ee("https://notfound-beta.herokuapp.com/solid-waste-collected"),a.typeSolidWasteClient=new ee("https://notfound-beta.herokuapp.com/types-solid-waste"),a.state={modalVisible:!1,visibleModalExcluir:!1,isRecyclable:!1,isReutilable:!1,solidsWasteCollected:[],typesSolidWaste:[],filters:[],filteredInfo:{},sortedInfo:{}},a}return Object(d.a)(t,e),Object(W.a)(t,[{key:"componentWillMount",value:function(){var e=Object(j.a)(S.a.mark(function e(){var t,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.solidWasteCollectedClient.getAll();case 2:return t=e.sent,e.next=5,this.typeSolidWasteClient.getAll();case 5:a=e.sent,this.setState({solidsWasteCollected:ae.toSolidWasteCollectedData(t.data).reverse(),typesSolidWaste:a.data,filters:oe(a.data)});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),ue=I.a.create()(de),pe=a(276),me=I.a.Item,fe=T.a.Option,he=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(j.a)(S.a.mark(function e(t,n){var r,l,i,o,s,c,d,u,p,m,f,h,y,g,b,x,E,v,w,C,k,O,j,W,I,T,q,R,F,M,B,A,K,P,L,H,V,z,N,_,Z;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=81;break}if(r=n.type,l=n.endDate,i=n.startDate,""===r?a.setState({layoutAll:!0}):a.setState({layoutAll:!1}),(o=new Date(i)).setHours(0),o.setMinutes(0),o.setSeconds(0),(s=new Date(l)).setHours(23),s.setMinutes(59),s.setSeconds(59),!l||!i){e.next=46;break}if(""===r){e.next=29;break}return e.next=15,a.dataClient.getWastesByPeriodFull(o,s,r);case 15:c=e.sent,d=c.data[0].data.reduce(function(e,t){return e+t.quantityCollected},0),u=d,p=c.data[0].data.map(function(e){var t={};return t[c.data[0].name]=e.quantityCollected,t}),m={},c.data[0].data.forEach(function(e){e.collectionDate=new Date(e.collectionDate),e.collectionDate.setHours(0),e.collectionDate.setMinutes(0),e.collectionDate.setSeconds(0),m[e.collectionDate]?m[e.collectionDate].value+=e.quantityCollected:m[e.collectionDate]={day:Y()(e.collectionDate).format("YYYY-MM-DD"),value:e.quantityCollected}}),f=Object.keys(m).map(function(e){return m[e]}),(h=[]).push(c.data[0].name),(y=[]).push(c.data[0].color),a.setState({streamDatas:p,streamKeys:h,streamColors:y,totalKg:u,timeLine:f}),e.next=44;break;case 29:return e.next=31,a.dataClient.getWastesByPeriod(o,s);case 31:return g=e.sent,b=g.data.filter(function(e){return e.data>0}),x=b.reduce(function(e,t){return e+t.data},0),E=b.map(function(e){var t={};return t[e.name]=e.data,t.residuos=e.name,t}),v=b.map(function(e){return e.name}),w=b.map(function(e){return e.color}),C=b.map(function(e){var t={};return t.id=e.name,t.label=e.name,t.value=parseFloat((e.data/x*100).toFixed(2)),t}),e.next=40,a.dataClient.getWastesByPeriodFull(o,s);case 40:k=e.sent,O=[],k&&(j=k.data.reduce(function(e,t){return Object(D.a)(e).concat(Object(D.a)(t.data))},[]).map(function(e){return e.collectionDate=new Date(e.collectionDate),e.collectionDate.setHours(0),e.collectionDate.setMinutes(0),e.collectionDate.setSeconds(0),e}),W={},j.forEach(function(e){W[e.collectionDate]?W[e.collectionDate].value+=e.quantityCollected:W[e.collectionDate]={day:Y()(e.collectionDate).format("YYYY-MM-DD"),value:e.quantityCollected}}),O=Object.keys(W).map(function(e){return W[e]})),a.setState({datas:E||[],colors:w,keys:v,pieData:C,totalKg:x,timeLine:O});case 44:e.next=81;break;case 46:if(""===r){e.next=62;break}return e.next=49,a.dataClient.getAllWasteByPeriodFull(n.period,n.interval,r);case 49:I=e.sent,T=I.data[0].data.map(function(e){var t={};return t[I.data[0].name]=e.quantityCollected,t}),q=I.data[0].data.reduce(function(e,t){return e+t.quantityCollected},0),R={},I.data[0].data.forEach(function(e){e.collectionDate=new Date(e.collectionDate),e.collectionDate.setHours(0),e.collectionDate.setMinutes(0),e.collectionDate.setSeconds(0),R[e.collectionDate]?R[e.collectionDate].value+=e.quantityCollected:R[e.collectionDate]={day:Y()(e.collectionDate).format("YYYY-MM-DD"),value:e.quantityCollected}}),F=Object.keys(R).map(function(e){return R[e]}),(M=[]).push(I.data[0].name),(B=[]).push(I.data[0].color),a.setState({streamDatas:T,streamKeys:M,streamColors:B,totalKg:q,timeLine:F}),e.next=81;break;case 62:return e.next=64,a.dataClient.getAllWasteByPeriod(n.period,n.interval);case 64:return A=e.sent,K=A.data.filter(function(e){return e.data>0}),P=K.reduce(function(e,t){return e+t.data},0),L=K.map(function(e){var t={};return t[e.name]=e.data,t.residuos=e.name,t}),H=K.map(function(e){return e.name}),V=K.map(function(e){return e.color}),z=K.map(function(e){var t={};return t.id=e.name,t.label=e.name,t.value=parseFloat((e.data/P*100).toFixed(2)),t}),e.next=73,a.dataClient.getAllWasteByPeriodFull(n.period,n.interval);case 73:e.t0=function(e,t){return Object(D.a)(e).concat(Object(D.a)(t.data))},e.t1=[],e.t2=function(e){return e.collectionDate=new Date(e.collectionDate),e.collectionDate.setHours(0),e.collectionDate.setMinutes(0),e.collectionDate.setSeconds(0),e},N=e.sent.data.reduce(e.t0,e.t1).map(e.t2),_={},N.forEach(function(e){_[e.collectionDate]?_[e.collectionDate].value+=e.quantityCollected:_[e.collectionDate]={day:Y()(e.collectionDate).format("YYYY-MM-DD"),value:e.quantityCollected}}),Z=Object.keys(_).map(function(e){return _[e]}),a.setState({datas:L||[],colors:V,keys:H,pieData:z,totalKg:P,timeLine:Z});case 81:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.dataClient=new V("https://notfound-beta.herokuapp.com/datas"),a.typeSolidWasteClient=new ee("https://notfound-beta.herokuapp.com/types-solid-waste"),a.state={typesSolidWaste:[],layoutAll:!0,datas:[],colors:[],keys:[],pieData:[],totalKg:0,streamDatas:[],streamKeys:[],streamColors:[],legend:[],timeLine:[]},a}return Object(d.a)(t,e),Object(W.a)(t,[{key:"componentWillMount",value:function(){var e=Object(j.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.typeSolidWasteClient.getAll();case 2:t=e.sent,this.setState({typesSolidWaste:t.data});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}};return r.a.createElement(r.a.Fragment,null,!this.state.layoutAll&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"10px 0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:24}},r.a.createElement(I.a,{layout:"inline",onSubmit:this.handleSubmit},r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),e("type",{rules:[{required:!1}],initialValue:""})(r.a.createElement(T.a,{style:{width:"100%"}},r.a.createElement(fe,{value:""},"Todos"),this.state.typesSolidWaste.map(function(e){return r.a.createElement(fe,{value:e._id,key:e._id},e.name)}))))),r.a.createElement(x.a,{xs:{span:24},lg:{span:14},style:{padding:"0px"}},r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"10px 0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),e("interval",{rules:[{required:!1,message:"O intervalo \xe9 obrigat\xf3rio!"}]})(r.a.createElement(q.a,{min:1,placeholder:"intervalo",style:{width:"100%"}})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),e("period",{rules:[{required:!0,message:"O periodo \xe9 obrigatorio!"}],initialValue:"WEEK"})(r.a.createElement(T.a,{style:{width:"100%"}},r.a.createElement(fe,{value:"DAY"},"Dia"),r.a.createElement(fe,{value:"WEEK"},"Semana"),r.a.createElement(fe,{value:"MONTH"},"M\xeas"),r.a.createElement(fe,{value:"YEAR"},"Ano"))))),r.a.createElement(x.a,{xs:{span:24},lg:{span:1},style:{padding:"10px 0px"}}),r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),e("startDate",{rules:[{required:!1}]})(r.a.createElement(ie.a,{style:{width:"100%"},placeholder:"Inicio"})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),e("endDate",{rules:[{required:!1}]})(r.a.createElement(ie.a,{style:{width:"100%"},placeholder:"fim"})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),r.a.createElement(R.a,{type:"primary",htmlType:"submit",style:{width:"100%"}},"Consultar"))))))))),r.a.createElement(b.a,{gutter:24},r.a.createElement(x.a,{xs:{span:24},lg:{span:24}},r.a.createElement(B,{height:.2*window.innerHeight},r.a.createElement(F.a,{orientation:"left"},r.a.createElement("h3",{style:{color:"#618833"}},"Peso total coletado")),r.a.createElement("div",{style:{fontSize:"2em",height:"25%",display:"flex",alignItems:"center",justifyContent:"center"}},this.state.totalKg.toFixed(2)," Kg"))),r.a.createElement(x.a,{xs:{span:24},lg:{span:24}},r.a.createElement(B,{height:.5*window.innerHeight},r.a.createElement(F.a,{orientation:"left"}," ",r.a.createElement("h3",{style:{color:"#618833"}},"Residuos produzidos em Kg")),r.a.createElement("div",{style:{height:"80%"}},r.a.createElement(pe.ResponsiveStream,{margin:{top:60,right:80,bottom:60,left:80},keys:this.state.streamKeys,data:this.state.streamDatas,offsetType:"diverging",colors:this.state.streamColors,animate:!0,dotSize:8,dotBorderWidth:2,dotBorderColor:"inherit:brighter(0.7)"})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:24}},r.a.createElement(B,null,r.a.createElement(F.a,{orientation:"left"},r.a.createElement("h3",{style:{color:"#618833"}},"Res\xedduos coletados durante o ano")),r.a.createElement("div",{style:{height:"".concat(.45*window.innerHeight,"px")}},r.a.createElement(P.ResponsiveCalendar,{margin:{top:50,right:10,bottom:10,left:50},from:"2018-01-01T03:00:00.000Z",to:"2018-12-31T03:00:00.000Z",data:this.state.timeLine,emptyColor:"#eeeeee",yearSpacing:40,monthBorderColor:"#ffffff",monthLegendOffset:10,dayBorderWidth:2,dayBorderColor:"#ffffff",legends:[{anchor:"bottom-right",direction:"row",translateY:-40,itemCount:4,itemWidth:34,itemHeight:36,itemDirection:"top-to-bottom"}]})))))),this.state.layoutAll&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"10px 0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:24}},r.a.createElement(I.a,{layout:"inline",onSubmit:this.handleSubmit},r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),e("type",{rules:[{required:!1}],initialValue:""})(r.a.createElement(T.a,{style:{width:"100%"}},r.a.createElement(fe,{value:""},"Todos"),this.state.typesSolidWaste.map(function(e){return r.a.createElement(fe,{value:e._id,key:e._id},e.name)}))))),r.a.createElement(x.a,{xs:{span:24},lg:{span:14},style:{padding:"0px"}},r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"10px 0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),e("interval",{rules:[{required:!1,message:"O intervalo \xe9 obrigat\xf3rio!"}]})(r.a.createElement(q.a,{min:1,placeholder:"intervalo",style:{width:"100%"}})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),e("period",{rules:[{required:!0,message:"O periodo \xe9 obrigatorio!"}],initialValue:"WEEK"})(r.a.createElement(T.a,{style:{width:"100%"}},r.a.createElement(fe,{value:"DAY"},"Dia"),r.a.createElement(fe,{value:"WEEK"},"Semana"),r.a.createElement(fe,{value:"MONTH"},"M\xeas"),r.a.createElement(fe,{value:"YEAR"},"Ano"))))),r.a.createElement(x.a,{xs:{span:24},lg:{span:1},style:{padding:"10px 0px"}}),r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),e("startDate",{rules:[{required:!1}]})(r.a.createElement(ie.a,{style:{width:"100%"},placeholder:"Inicio"})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),e("endDate",{rules:[{required:!1}]})(r.a.createElement(ie.a,{style:{width:"100%"},placeholder:"fim"})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(me,Object.assign({},t,{style:{width:"100%"}}),r.a.createElement(R.a,{type:"primary",htmlType:"submit",style:{width:"100%"}},"Consultar"))))))))),r.a.createElement(b.a,{gutter:24},r.a.createElement(x.a,{xs:{span:24},lg:{span:24}},r.a.createElement(B,{height:.2*window.innerHeight},r.a.createElement(F.a,{orientation:"left"},r.a.createElement("h3",{style:{color:"#618833"}},"Peso total coletado")),r.a.createElement("div",{style:{fontSize:"2em",height:"25%",display:"flex",alignItems:"center",justifyContent:"center"}},this.state.totalKg.toFixed(2)," Kg"))),r.a.createElement(x.a,{xs:{span:24},lg:{span:12}},r.a.createElement(B,null,r.a.createElement(F.a,{orientation:"left"}," ",r.a.createElement("h3",{style:{color:"#618833"}},"Residuos produzidos em Kg")),r.a.createElement("div",{style:{height:"".concat(.55*window.innerHeight,"px")}},r.a.createElement(A.ResponsiveBar,{margin:{top:12,right:50,bottom:12,left:50},axisBottom:null,data:this.state.datas,indexBy:"residuos",keys:this.state.keys,colors:this.state.colors,padding:.2,labelTextColor:"#ffffff",labelSkipWidth:16,labelSkipHeight:16})),r.a.createElement("div",{style:{marginTop:"20px"}},this.state.legend.map(function(e){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"20px",marginLeft:"10px"}},r.a.createElement("div",{style:{height:"10px",width:"10px",background:e.color}}),r.a.createElement("span",{style:{marginLeft:"5px"}},e.name))})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:12}},r.a.createElement(B,null,r.a.createElement(F.a,{orientation:"left"}," ",r.a.createElement("h3",{style:{color:"#618833"}},"Residuos produzidos em Kg")),r.a.createElement("div",{style:{height:"".concat(.55*window.innerHeight,"px")}},r.a.createElement(K.ResponsivePie,{margin:{top:10,right:50,bottom:30,left:50},data:this.state.pieData,animate:!0,innerRadius:.6,padAngle:1,cornerRadius:3,colors:this.state.colors,radialLabelsLinkColor:"inherit",radialLabelsLinkStrokeWidth:3,radialLabelsTextColor:"inherit:darker(1.2)"})),r.a.createElement("div",{style:{marginTop:"20px"}},this.state.legend.map(function(e){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"20px",marginLeft:"10px"}},r.a.createElement("div",{style:{height:"10px",width:"10px",background:e.color}}),r.a.createElement("span",{style:{marginLeft:"5px"}},e.name))})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:24}},r.a.createElement(B,null,r.a.createElement(F.a,{orientation:"left"},r.a.createElement("h3",{style:{color:"#618833"}},"Res\xedduos coletados durante o ano")),r.a.createElement("div",{style:{height:"".concat(.45*window.innerHeight,"px")}},r.a.createElement(P.ResponsiveCalendar,{margin:{top:50,right:10,bottom:10,left:50},from:"2018-01-01T03:00:00.000Z",to:"2018-12-31T03:00:00.000Z",data:this.state.timeLine,emptyColor:"#eeeeee",yearSpacing:40,monthBorderColor:"#ffffff",monthLegendOffset:10,dayBorderWidth:2,dayBorderColor:"#ffffff",legends:[{anchor:"bottom-right",direction:"row",translateY:-40,itemCount:4,itemWidth:34,itemHeight:36,itemDirection:"top-to-bottom"}]})))))))}}]),t}(n.Component),ye=I.a.create()(he),ge=a(195),be=a.n(ge),xe=a(277),Ee=a.n(xe),ve={toSolidWasteCollectedData:function(e){var t=[];return t.push(e.typeWasted),t.push(e.quantityCollected),t.push(e.collectionDate),t}},we=function(e){return{content:[{text:"Coletas realizadas entre ".concat(e.startDate," - ").concat(e.endDate,"\n\n"),style:"header"},{text:"Total coletado: ".concat(e.total," Kg"),fontSize:14,bold:!0},{style:"table",table:{widths:[100,"*",200],body:[["Data","Total coletado","Tipo de res\xedduo coletado"]].concat(Object(D.a)(e.datas))}}],styles:{header:{fontSize:18,bold:!0},table:{margin:[0,5,0,15]}}}},Ce=I.a.Item,ke=T.a.Option,De=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(j.a)(S.a.mark(function e(t,n){var r,l,i,o,s,c,d,u,p;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=18;break}if(r=n.type,l=n.endDate,i=n.startDate,!l||!i){e.next=18;break}return(o=new Date(i)).setHours(0),o.setMinutes(0),o.setSeconds(0),(s=new Date(l)).setHours(23),s.setMinutes(59),s.setSeconds(59),e.next=13,a.dataClient.getWastesByPeriodFull(o,s,r);case 13:c=e.sent,d=c.data.map(function(e){return ae.toSolidWasteCollectedData(e.data)}).reduce(function(e,t){return Object(D.a)(e).concat(Object(D.a)(t))}),u=d.map(function(e){return ve.toSolidWasteCollectedData(e)}),p=u.reduce(function(e,t){return e+t[1]},0),a.setState({dataTables:d,dataDoc:{datas:u,total:p,startDate:i.format("DD/MM/YYYY"),endDate:l.format("DD/MM/YYYY")},total:p});case 18:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleChangeTable=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.render=function(){var e=a.props.form.getFieldDecorator,t=[{title:"",dataIndex:"color",key:"color",width:20,render:function(e){return r.a.createElement("div",{style:{width:"10px",height:"10px",background:e}})}},{title:"Data",dataIndex:"collectionDate",key:"collectionDate",width:150,sorter:function(e,t){var a=e.collectionDate.split("/"),n=t.collectionDate.split("/");return new Date(parseInt(a[2]),parseInt(a[1])-1,parseInt(a[0]))-new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]))},sortOrder:"collectionDate"===a.state.sortedInfo.columnKey&&a.state.sortedInfo.order},{title:"Total coletado",dataIndex:"quantityCollected",key:"quantityCollected",width:200,render:function(e,t){return"".concat(e," Kg")},sorter:function(e,t){return e.quantityCollected-t.quantityCollected},sortOrder:"quantityCollected"===a.state.sortedInfo.columnKey&&a.state.sortedInfo.order},{title:"Tipo",dataIndex:"typeWasted",key:"typeWasted"}],n={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"10px 0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:24}},r.a.createElement(I.a,{layout:"inline",onSubmit:a.handleSubmit},r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement(Ce,Object.assign({},n,{style:{width:"100%"}}),e("type",{rules:[{required:!1}],initialValue:""})(r.a.createElement(T.a,{style:{width:"100%"}},r.a.createElement(ke,{value:""},"Todos"),a.state.typesSolidWaste.map(function(e){return r.a.createElement(ke,{value:e._id,key:e._id},e.name)}))))),r.a.createElement(x.a,{xs:{span:24},lg:{span:10},style:{padding:"0px"}},r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"10px 0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:9},style:{padding:"0px"}},r.a.createElement(Ce,Object.assign({},n,{style:{width:"100%"}}),e("startDate",{rules:[{required:!1}]})(r.a.createElement(ie.a,{style:{width:"100%"},placeholder:"Inicio"})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:9},style:{padding:"0px"}},r.a.createElement(Ce,Object.assign({},n,{style:{width:"100%"}}),e("endDate",{rules:[{required:!1}]})(r.a.createElement(ie.a,{style:{width:"100%"},placeholder:"fim"})))),r.a.createElement(x.a,{xs:{span:24},lg:{span:2},style:{padding:"0px"}},r.a.createElement(Ce,Object.assign({},n,{style:{width:"100%"}}),r.a.createElement(R.a,{type:"primary",htmlType:"submit",style:{width:"100%"},icon:"search"}))))))))),a.state.dataTables.length>0&&r.a.createElement("div",null,r.a.createElement("div",{style:{padding:"10px",background:"white",margin:"16px 0px"}},r.a.createElement(b.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"10px 0px"}},r.a.createElement(x.a,{xs:{span:24},lg:{span:4},style:{padding:"0px"}},r.a.createElement("h3",{style:{margin:"0px"}},"Total Coletado")),r.a.createElement(x.a,{xs:{span:24},lg:{span:3},style:{padding:"0px"}},r.a.createElement(R.a,{ype:"primary",htmlType:"button",style:{width:"100%"},icon:"file-pdf",onClick:function(){var e=Ee.a.pdfMake.vfs;be.a.vfs=e,be.a.createPdf(we(a.state.dataDoc)).download("report.pdf")}},"PDF")))),r.a.createElement(X.a,{columns:t,onChange:a.handleChangeTable,bordered:!0,dataSource:a.state.dataTables,scroll:window.innerWidth<=600?{x:700}:void 0,style:{background:"white",marginBottom:"20px"}})))},a.typeSolidWasteClient=new ee("https://notfound-beta.herokuapp.com/types-solid-waste"),a.dataClient=new V("https://notfound-beta.herokuapp.com/datas"),a.state={typesSolidWaste:[],dataTypesSolidWaste:[],dataTables:[],total:0,dataDoc:{},filteredInfo:{},sortedInfo:{}},a}return Object(d.a)(t,e),Object(W.a)(t,[{key:"componentWillMount",value:function(){var e=Object(j.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.typeSolidWasteClient.getAll();case 2:t=e.sent,this.setState({typesSolidWaste:t.data,dataTypesSolidWaste:t?ae.toTypesSolidWasteData(t.data):[]});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),Oe=I.a.create()(De),Se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).render=function(){return r.a.createElement(u.a,null,r.a.createElement(k,{menu:r.a.createElement(f.a,{mode:"inline",style:{zIndex:"999"}},r.a.createElement(f.a.Item,{key:"1",onClick:function(){a.setState({titlePage:"Vis\xe3o Geral"})}},r.a.createElement(h.a,{type:"home"}),r.a.createElement(p.a,{to:"/",className:"nav-text"},"Vis\xe3o Geral")),r.a.createElement(f.a.Item,{key:"3",onClick:function(){a.setState({titlePage:"Tipos de Res\xedduos S\xf3lidos"})}},r.a.createElement(h.a,{type:"tag"}),r.a.createElement(p.a,{to:"/tipos-residuos-solidos",className:"nav-text"},"Tipos de Res\xedduos S\xf3lidos")),r.a.createElement(f.a.Item,{key:"4",onClick:function(){a.setState({titlePage:"Coletas"})}},r.a.createElement(h.a,{type:"delete"}),r.a.createElement(p.a,{to:"/coletas",className:"nav-text"},"Coletas")),r.a.createElement(f.a.Item,{key:"5",onClick:function(){a.setState({titlePage:"An\xe1lises"})}},r.a.createElement(h.a,{type:"line-chart"}),r.a.createElement(p.a,{to:"/analises",className:"nav-text"},"An\xe1lises")),r.a.createElement(f.a.Item,{key:"6",onClick:function(){a.setState({titlePage:"Rel\xe1torios"})}},r.a.createElement(h.a,{type:"file-text"}),r.a.createElement(p.a,{to:"/relatorios",className:"nav-text"},"Relat\xf3rios"))),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{exact:!0,path:"/",component:Z}),r.a.createElement(m.a,{exact:!0,path:"/tipos-residuos-solidos",component:le}),r.a.createElement(m.a,{exact:!0,path:"/coletas",component:ue}),r.a.createElement(m.a,{exact:!0,path:"/analises",component:ye}),r.a.createElement(m.a,{exact:!0,path:"/relatorios",component:Oe})),titlePage:a.state.titlePage}))},a.state={titlePage:"Vis\xe3o Geral"},a}return Object(d.a)(t,e),t}(n.Component),je=(a(548),a(550),a(552),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).render=function(){return r.a.createElement(Se,null)},a}return Object(d.a)(t,e),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[282,2,1]]]);
//# sourceMappingURL=main.3018e419.chunk.js.map