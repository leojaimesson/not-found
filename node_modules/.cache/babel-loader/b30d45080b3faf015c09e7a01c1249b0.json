{"ast":null,"code":"import _toConsumableArray from \"/home/leo/Documents/github/tcc/front/not-found/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/home/leo/Documents/github/tcc/front/not-found/front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/leo/Documents/github/tcc/front/not-found/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/leo/Documents/github/tcc/front/not-found/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/leo/Documents/github/tcc/front/not-found/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/leo/Documents/github/tcc/front/not-found/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/leo/Documents/github/tcc/front/not-found/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/leo/Documents/github/tcc/front/not-found/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/leo/Documents/github/tcc/front/not-found/front/src/pages/GeneralPage.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Button, Form, Select, InputNumber, Divider } from 'antd';\nimport moment from 'moment';\nimport Board from '../components/board/Board';\nimport { ResponsiveBar } from '@nivo/bar';\nimport { ResponsivePie } from '@nivo/pie';\nimport { ResponsiveCalendar } from '@nivo/calendar';\nimport DataClient from '../api/DataClient';\nvar FormItem = Form.Item;\nvar Option = Select.Option;\n\nvar GeneralPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GeneralPage, _Component);\n\n  function GeneralPage(props) {\n    var _this;\n\n    _classCallCheck(this, GeneralPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GeneralPage).call(this, props));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(err, values) {\n          var response, responseFiltered, totalKg, barDatas, barKeys, barColors, legend, pieData;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (err) {\n                    _context.next = 12;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return _this.dataClient.getAllWasteByPeriod(values.period, values.interval);\n\n                case 3:\n                  response = _context.sent;\n                  responseFiltered = response.data.filter(function (value) {\n                    return value.data > 0;\n                  });\n                  totalKg = responseFiltered.reduce(function (acc, current) {\n                    return acc + current.data;\n                  }, 0);\n                  barDatas = responseFiltered.map(function (value) {\n                    var obj = {};\n                    obj[value.name] = parseFloat(value.data.toFixed(2));\n                    obj['residuos'] = value.name;\n                    return obj;\n                  });\n                  barKeys = responseFiltered.map(function (value) {\n                    return value.name;\n                  });\n                  barColors = responseFiltered.map(function (value) {\n                    return value.color;\n                  });\n                  legend = responseFiltered.map(function (value) {\n                    return {\n                      name: value.name,\n                      color: value.color\n                    };\n                  });\n                  pieData = responseFiltered.map(function (value) {\n                    var obj = {};\n                    obj.id = value.name;\n                    obj.label = value.name;\n                    obj.value = (value.data / totalKg * 100).toFixed(2);\n                    return obj;\n                  });\n\n                  _this.setState({\n                    datas: barDatas || [],\n                    colors: barColors,\n                    keys: barKeys,\n                    pieData: pieData,\n                    totalKg: totalKg,\n                    legend: legend\n                  });\n\n                case 12:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    };\n\n    _this.dataClient = new DataClient('https://betatcc.herokuapp.com/datas');\n    _this.state = {\n      datas: [],\n      colors: [],\n      keys: [],\n      pieData: [],\n      totalKg: 0,\n      timeLine: [],\n      legend: []\n    };\n    return _this;\n  }\n\n  _createClass(GeneralPage, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var response, responseFiltered, start, end, responseTimeLine, rs, rs2, totalKg, barDatas, barKeys, barColors, pieData, legend;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.dataClient.getAllWasteByPeriod('WEEK', 1);\n\n              case 2:\n                response = _context2.sent;\n                console.log(response);\n                responseFiltered = response.data.filter(function (value) {\n                  return value.data > 0;\n                });\n                start = new Date(2018, 0, 1, 0, 0, 0);\n                end = new Date(2018, 11, 31, 11, 59, 59);\n                _context2.next = 9;\n                return this.dataClient.getWastesByPeriodFull(start, end);\n\n              case 9:\n                _context2.t0 = function (acc, current) {\n                  return _toConsumableArray(acc).concat(_toConsumableArray(current.data));\n                };\n\n                _context2.t1 = [];\n\n                _context2.t2 = function (value) {\n                  value.collectionDate = new Date(value.collectionDate);\n                  value.collectionDate.setHours(0);\n                  value.collectionDate.setMinutes(0);\n                  value.collectionDate.setSeconds(0);\n                  return value;\n                };\n\n                responseTimeLine = _context2.sent.data.reduce(_context2.t0, _context2.t1).map(_context2.t2);\n                rs = {};\n                responseTimeLine.forEach(function (value) {\n                  if (!rs[value.collectionDate]) {\n                    rs[value.collectionDate] = {\n                      day: moment(value.collectionDate).format('YYYY-MM-DD'),\n                      value: value.quantityCollected\n                    };\n                  } else {\n                    rs[value.collectionDate].value += value.quantityCollected;\n                  }\n                });\n                rs2 = Object.keys(rs).map(function (key) {\n                  return rs[key];\n                });\n                totalKg = responseFiltered.reduce(function (acc, current) {\n                  return acc + current.data;\n                }, 0);\n                barDatas = responseFiltered.map(function (value) {\n                  var obj = {};\n                  obj[value.name] = value.data;\n                  obj['residuos'] = value.name;\n                  return obj;\n                });\n                barKeys = responseFiltered.map(function (value) {\n                  return value.name;\n                });\n                barColors = responseFiltered.map(function (value) {\n                  return value.color;\n                });\n                pieData = responseFiltered.map(function (value) {\n                  var obj = {};\n                  obj.id = value.name;\n                  obj.label = value.name;\n                  obj.value = parseFloat((value.data / totalKg * 100).toFixed(2));\n                  return obj;\n                });\n                legend = responseFiltered.map(function (value) {\n                  return {\n                    name: value.name,\n                    color: value.color\n                  };\n                });\n                this.setState({\n                  datas: barDatas || [],\n                  colors: barColors,\n                  keys: barKeys,\n                  pieData: pieData,\n                  totalKg: totalKg,\n                  timeLine: rs2,\n                  legend: legend\n                });\n\n              case 23:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var heightBoard = window.innerHeight * 0.50;\n      return React.createElement(React.Fragment, null, React.createElement(Row, {\n        type: \"flex\",\n        justify: \"space-between\",\n        align: \"middle\",\n        gutter: 24,\n        style: {\n          background: 'white',\n          margin: '0px',\n          padding: '10px 0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: {\n          span: 24\n        },\n        lg: {\n          span: 24\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Form, {\n        layout: \"inline\",\n        onSubmit: this.handleSubmit,\n        style: {\n          float: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Periodo\")), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, getFieldDecorator('interval', {\n        rules: [{\n          required: true,\n          message: 'O intervalo é obrigatório!'\n        }],\n        initialValue: 1\n      })(React.createElement(InputNumber, {\n        min: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }))), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, getFieldDecorator('period', {\n        rules: [{\n          required: true,\n          message: 'O periodo é obrigatorio!'\n        }],\n        initialValue: 'WEEK'\n      })(React.createElement(Select, {\n        style: {\n          width: 120\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"DAY\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Dia\"), React.createElement(Option, {\n        value: \"WEEK\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Semana\"), React.createElement(Option, {\n        value: \"MONTH\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"M\\xEAs\"), React.createElement(Option, {\n        value: \"YEAR\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Ano\")))), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Consultar\"))))), React.createElement(Row, {\n        gutter: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: {\n          span: 24\n        },\n        lg: {\n          span: 12\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(Board, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(Divider, {\n        orientation: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \" \", React.createElement(\"h3\", {\n        style: {\n          color: '#618833'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Res\\xEDduos coletados em Kg\")), React.createElement(\"div\", {\n        style: {\n          height: \"\".concat(heightBoard, \"px\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(ResponsiveBar, {\n        margin: {\n          top: 40,\n          right: 50,\n          bottom: 40,\n          left: 50\n        },\n        axisBottom: null,\n        data: this.state.datas,\n        indexBy: \"residuos\",\n        keys: this.state.keys,\n        colors: this.state.colors,\n        padding: 0.2,\n        labelTextColor: \"#ffffff\",\n        labelSkipWidth: 12,\n        labelSkipHeight: 12,\n        animate: true,\n        motionStiffness: 90,\n        motionDamping: 15,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, this.state.legend.map(function (value) {\n        return React.createElement(\"div\", {\n          key: \"bar-\".concat(value.name),\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginRight: '20px',\n            marginLeft: '10px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            height: '10px',\n            width: '10px',\n            background: value.color\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          style: {\n            marginLeft: '5px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, value.name));\n      })))), React.createElement(Col, {\n        xs: {\n          span: 24\n        },\n        lg: {\n          span: 12\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(Board, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(Divider, {\n        orientation: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        style: {\n          color: '#618833'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Res\\xEDduos coletados em percentual\")), React.createElement(\"div\", {\n        style: {\n          height: \"\".concat(heightBoard, \"px\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(ResponsivePie, {\n        margin: {\n          top: 40,\n          right: 50,\n          bottom: 55,\n          left: 50\n        },\n        data: this.state.pieData,\n        animate: true,\n        innerRadius: 0.6,\n        padAngle: 1,\n        cornerRadius: 3,\n        colors: this.state.colors,\n        radialLabelsLinkColor: \"inherit\",\n        radialLabelsLinkStrokeWidth: 3,\n        radialLabelsTextColor: \"inherit:darker(1.2)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, this.state.legend.map(function (value) {\n        return React.createElement(\"div\", {\n          key: \"pie-\".concat(value.name),\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginRight: '20px',\n            marginLeft: '10px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            height: '10px',\n            width: '10px',\n            background: value.color\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          style: {\n            marginLeft: '5px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }, value.name));\n      })))), this.state.timeLine && React.createElement(Col, {\n        xs: {\n          span: 24\n        },\n        lg: {\n          span: 24\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(Board, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(Divider, {\n        orientation: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        style: {\n          color: '#618833'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"Foram coletados \", this.state.totalKg.toFixed(2), \" Kg de res\\xEDduos este ano\")), React.createElement(\"div\", {\n        style: {\n          height: \"\".concat(heightBoard, \"px\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(ResponsiveCalendar, {\n        margin: {\n          top: 50,\n          right: 10,\n          bottom: 0,\n          left: 50\n        },\n        from: \"2018-01-01T03:00:00.000Z\",\n        to: \"2018-12-31T03:00:00.000Z\",\n        data: this.state.timeLine,\n        emptyColor: \"#eeeeee\",\n        yearSpacing: 40,\n        monthBorderColor: \"#ffffff\",\n        monthLegendOffset: 10,\n        dayBorderWidth: 2,\n        dayBorderColor: \"#ffffff\",\n        legends: [{\n          \"anchor\": \"bottom-right\",\n          \"direction\": \"row\",\n          \"translateY\": -80,\n          \"itemCount\": 4,\n          \"itemWidth\": 34,\n          \"itemHeight\": 36,\n          \"itemDirection\": \"top-to-bottom\"\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return GeneralPage;\n}(Component);\n\nexport default Form.create()(GeneralPage);","map":{"version":3,"sources":["/home/leo/Documents/github/tcc/front/not-found/front/src/pages/GeneralPage.js"],"names":["React","Component","Row","Col","Button","Form","Select","InputNumber","Divider","moment","Board","ResponsiveBar","ResponsivePie","ResponsiveCalendar","DataClient","FormItem","Item","Option","GeneralPage","props","handleSubmit","e","preventDefault","form","validateFields","err","values","dataClient","getAllWasteByPeriod","period","interval","response","responseFiltered","data","filter","value","totalKg","reduce","acc","current","barDatas","map","obj","name","parseFloat","toFixed","barKeys","barColors","color","legend","pieData","id","label","setState","datas","colors","keys","state","timeLine","console","log","start","Date","end","getWastesByPeriodFull","collectionDate","setHours","setMinutes","setSeconds","responseTimeLine","rs","forEach","day","format","quantityCollected","rs2","Object","key","getFieldDecorator","heightBoard","window","innerHeight","background","margin","padding","span","float","rules","required","message","initialValue","width","height","top","right","bottom","left","display","alignItems","marginRight","marginLeft","create"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,MAAnB,EAA2BC,IAA3B,EAAiCC,MAAjC,EAAyCC,WAAzC,EAAsDC,OAAtD,QAAqE,MAArE;AAEA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAOC,KAAP,MAAkB,2BAAlB;AAEA,SAASC,aAAT,QAA8B,WAA9B;AAEA,SAASC,aAAT,QAA8B,WAA9B;AAEA,SAASC,kBAAT,QAAmC,gBAAnC;AAEA,OAAOC,UAAP,MAAuB,mBAAvB;AAEA,IAAMC,QAAQ,GAAGV,IAAI,CAACW,IAAtB;AAEA,IAAMC,MAAM,GAAGX,MAAM,CAACW,MAAtB;;IAGMC,W;;;;;AAEF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;;AADe,UAkFnBC,YAlFmB,GAkFJ,UAACC,CAAD,EAAO;AAClBA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKH,KAAL,CAAWI,IAAX,CAAgBC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,iCAA+B,iBAAOC,GAAP,EAAYC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACtBD,GADsB;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAEA,MAAKE,UAAL,CAAgBC,mBAAhB,CAAoCF,MAAM,CAACG,MAA3C,EAAmDH,MAAM,CAACI,QAA1D,CAFA;;AAAA;AAEjBC,kBAAAA,QAFiB;AAGjBC,kBAAAA,gBAHiB,GAGED,QAAQ,CAACE,IAAT,CAAcC,MAAd,CAAqB,UAACC,KAAD;AAAA,2BAAWA,KAAK,CAACF,IAAN,GAAa,CAAxB;AAAA,mBAArB,CAHF;AAMjBG,kBAAAA,OANiB,GAMPJ,gBAAgB,CAACK,MAAjB,CAAwB,UAACC,GAAD,EAAMC,OAAN;AAAA,2BAAkBD,GAAG,GAAGC,OAAO,CAACN,IAAhC;AAAA,mBAAxB,EAA8D,CAA9D,CANO;AAQjBO,kBAAAA,QARiB,GAQNR,gBAAgB,CAACS,GAAjB,CAAqB,UAAAN,KAAK,EAAI;AAC3C,wBAAMO,GAAG,GAAG,EAAZ;AACAA,oBAAAA,GAAG,CAACP,KAAK,CAACQ,IAAP,CAAH,GAAkBC,UAAU,CAACT,KAAK,CAACF,IAAN,CAAWY,OAAX,CAAmB,CAAnB,CAAD,CAA5B;AACAH,oBAAAA,GAAG,CAAC,UAAD,CAAH,GAAkBP,KAAK,CAACQ,IAAxB;AACA,2BAAOD,GAAP;AACH,mBALgB,CARM;AAcjBI,kBAAAA,OAdiB,GAcPd,gBAAgB,CAACS,GAAjB,CAAqB,UAAAN,KAAK;AAAA,2BAAIA,KAAK,CAACQ,IAAV;AAAA,mBAA1B,CAdO;AAejBI,kBAAAA,SAfiB,GAeLf,gBAAgB,CAACS,GAAjB,CAAqB,UAAAN,KAAK;AAAA,2BAAIA,KAAK,CAACa,KAAV;AAAA,mBAA1B,CAfK;AAgBjBC,kBAAAA,MAhBiB,GAgBRjB,gBAAgB,CAACS,GAAjB,CAAqB,UAAAN,KAAK;AAAA,2BAAK;AAAEQ,sBAAAA,IAAI,EAAER,KAAK,CAACQ,IAAd;AAAoBK,sBAAAA,KAAK,EAAEb,KAAK,CAACa;AAAjC,qBAAL;AAAA,mBAA1B,CAhBQ;AAkBjBE,kBAAAA,OAlBiB,GAkBPlB,gBAAgB,CAACS,GAAjB,CAAqB,UAAAN,KAAK,EAAI;AAC1C,wBAAMO,GAAG,GAAG,EAAZ;AACAA,oBAAAA,GAAG,CAACS,EAAJ,GAAShB,KAAK,CAACQ,IAAf;AACAD,oBAAAA,GAAG,CAACU,KAAJ,GAAYjB,KAAK,CAACQ,IAAlB;AACAD,oBAAAA,GAAG,CAACP,KAAJ,GAAY,CAAEA,KAAK,CAACF,IAAN,GAAaG,OAAd,GAAyB,GAA1B,EAA+BS,OAA/B,CAAuC,CAAvC,CAAZ;AACA,2BAAOH,GAAP;AACH,mBANe,CAlBO;;AA0BvB,wBAAKW,QAAL,CAAc;AACVC,oBAAAA,KAAK,EAAEd,QAAQ,IAAI,EADT;AAEVe,oBAAAA,MAAM,EAAER,SAFE;AAGVS,oBAAAA,IAAI,EAAEV,OAHI;AAIVI,oBAAAA,OAAO,EAAEA,OAJC;AAKVd,oBAAAA,OAAO,EAAEA,OALC;AAMVa,oBAAAA,MAAM,EAAEA;AANE,mBAAd;;AA1BuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA/B;;AAAA;AAAA;AAAA;AAAA;AAoCH,KAxHkB;;AAEf,UAAKtB,UAAL,GAAkB,IAAIb,UAAJ,CAAe,qCAAf,CAAlB;AACA,UAAK2C,KAAL,GAAa;AACTH,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,MAAM,EAAE,EAFC;AAGTC,MAAAA,IAAI,EAAE,EAHG;AAITN,MAAAA,OAAO,EAAE,EAJA;AAKTd,MAAAA,OAAO,EAAE,CALA;AAMTsB,MAAAA,QAAQ,EAAE,EAND;AAOTT,MAAAA,MAAM,EAAE;AAPC,KAAb;AAHe;AAYlB;;;;;;;;;;;;;;uBAG0B,KAAKtB,UAAL,CAAgBC,mBAAhB,CAAoC,MAApC,EAA4C,CAA5C,C;;;AAAjBG,gBAAAA,Q;AAEN4B,gBAAAA,OAAO,CAACC,GAAR,CAAY7B,QAAZ;AAEMC,gBAAAA,gB,GAAmBD,QAAQ,CAACE,IAAT,CAAcC,MAAd,CAAqB,UAACC,KAAD;AAAA,yBAAWA,KAAK,CAACF,IAAN,GAAa,CAAxB;AAAA,iBAArB,C;AAEnB4B,gBAAAA,K,GAAQ,IAAIC,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,EAA2B,CAA3B,C;AACRC,gBAAAA,G,GAAM,IAAID,IAAJ,CAAS,IAAT,EAAe,EAAf,EAAmB,EAAnB,EAAuB,EAAvB,EAA2B,EAA3B,EAA+B,EAA/B,C;;uBAEoB,KAAKnC,UAAL,CAAgBqC,qBAAhB,CAAsCH,KAAtC,EAA6CE,GAA7C,C;;;+BAA+D,UAACzB,GAAD,EAAMC,OAAN;AAAA,4CAAsBD,GAAtB,4BAA8BC,OAAO,CAACN,IAAtC;AAAA,iB;;+BAA6C,E;;+BAAQ,UAACE,KAAD,EAAW;AAC3JA,kBAAAA,KAAK,CAAC8B,cAAN,GAAuB,IAAIH,IAAJ,CAAS3B,KAAK,CAAC8B,cAAf,CAAvB;AACA9B,kBAAAA,KAAK,CAAC8B,cAAN,CAAqBC,QAArB,CAA8B,CAA9B;AACA/B,kBAAAA,KAAK,CAAC8B,cAAN,CAAqBE,UAArB,CAAgC,CAAhC;AACAhC,kBAAAA,KAAK,CAAC8B,cAAN,CAAqBG,UAArB,CAAgC,CAAhC;AACA,yBAAOjC,KAAP;AACH,iB;;AANKkC,gBAAAA,gB,kBAA6EpC,I,CAAKI,M,6BAAwDI,G;AAQ1I6B,gBAAAA,E,GAAK,E;AAEXD,gBAAAA,gBAAgB,CAACE,OAAjB,CAAyB,UAAApC,KAAK,EAAI;AAC9B,sBAAI,CAACmC,EAAE,CAACnC,KAAK,CAAC8B,cAAP,CAAP,EAA+B;AAC3BK,oBAAAA,EAAE,CAACnC,KAAK,CAAC8B,cAAP,CAAF,GAA2B;AACvBO,sBAAAA,GAAG,EAAE/D,MAAM,CAAC0B,KAAK,CAAC8B,cAAP,CAAN,CAA6BQ,MAA7B,CAAoC,YAApC,CADkB;AAEvBtC,sBAAAA,KAAK,EAAEA,KAAK,CAACuC;AAFU,qBAA3B;AAIH,mBALD,MAKO;AACHJ,oBAAAA,EAAE,CAACnC,KAAK,CAAC8B,cAAP,CAAF,CAAyB9B,KAAzB,IAAkCA,KAAK,CAACuC,iBAAxC;AACH;AACJ,iBATD;AAWMC,gBAAAA,G,GAAMC,MAAM,CAACpB,IAAP,CAAYc,EAAZ,EAAgB7B,GAAhB,CAAoB,UAAUoC,GAAV,EAAe;AAC3C,yBAAOP,EAAE,CAACO,GAAD,CAAT;AACH,iBAFW,C;AAINzC,gBAAAA,O,GAAUJ,gBAAgB,CAACK,MAAjB,CAAwB,UAACC,GAAD,EAAMC,OAAN;AAAA,yBAAkBD,GAAG,GAAGC,OAAO,CAACN,IAAhC;AAAA,iBAAxB,EAA8D,CAA9D,C;AAEVO,gBAAAA,Q,GAAWR,gBAAgB,CAACS,GAAjB,CAAqB,UAAAN,KAAK,EAAI;AAC3C,sBAAMO,GAAG,GAAG,EAAZ;AACAA,kBAAAA,GAAG,CAACP,KAAK,CAACQ,IAAP,CAAH,GAAkBR,KAAK,CAACF,IAAxB;AACAS,kBAAAA,GAAG,CAAC,UAAD,CAAH,GAAkBP,KAAK,CAACQ,IAAxB;AACA,yBAAOD,GAAP;AACH,iBALgB,C;AAMXI,gBAAAA,O,GAAUd,gBAAgB,CAACS,GAAjB,CAAqB,UAAAN,KAAK;AAAA,yBAAIA,KAAK,CAACQ,IAAV;AAAA,iBAA1B,C;AACVI,gBAAAA,S,GAAYf,gBAAgB,CAACS,GAAjB,CAAqB,UAAAN,KAAK;AAAA,yBAAIA,KAAK,CAACa,KAAV;AAAA,iBAA1B,C;AAEZE,gBAAAA,O,GAAUlB,gBAAgB,CAACS,GAAjB,CAAqB,UAAAN,KAAK,EAAI;AAC1C,sBAAMO,GAAG,GAAG,EAAZ;AACAA,kBAAAA,GAAG,CAACS,EAAJ,GAAShB,KAAK,CAACQ,IAAf;AACAD,kBAAAA,GAAG,CAACU,KAAJ,GAAYjB,KAAK,CAACQ,IAAlB;AACAD,kBAAAA,GAAG,CAACP,KAAJ,GAAYS,UAAU,CAAC,CAAET,KAAK,CAACF,IAAN,GAAaG,OAAd,GAAyB,GAA1B,EAA+BS,OAA/B,CAAuC,CAAvC,CAAD,CAAtB;AACA,yBAAOH,GAAP;AACH,iBANe,C;AAQVO,gBAAAA,M,GAASjB,gBAAgB,CAACS,GAAjB,CAAqB,UAAAN,KAAK;AAAA,yBAAK;AAAEQ,oBAAAA,IAAI,EAAER,KAAK,CAACQ,IAAd;AAAoBK,oBAAAA,KAAK,EAAEb,KAAK,CAACa;AAAjC,mBAAL;AAAA,iBAA1B,C;AAEf,qBAAKK,QAAL,CAAc;AACVC,kBAAAA,KAAK,EAAEd,QAAQ,IAAI,EADT;AAEVe,kBAAAA,MAAM,EAAER,SAFE;AAGVS,kBAAAA,IAAI,EAAEV,OAHI;AAIVI,kBAAAA,OAAO,EAAEA,OAJC;AAKVd,kBAAAA,OAAO,EAAEA,OALC;AAMVsB,kBAAAA,QAAQ,EAAEiB,GANA;AAOV1B,kBAAAA,MAAM,EAAEA;AAPE,iBAAd;;;;;;;;;;;;;;;;6BAoDK;AAAA,UAEG6B,iBAFH,GAEyB,KAAK3D,KAAL,CAAWI,IAFpC,CAEGuD,iBAFH;AAIL,UAAMC,WAAW,GAAGC,MAAM,CAACC,WAAP,GAAqB,IAAzC;AACA,aACI,0CACI,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAC,MAAV;AAAiB,QAAA,OAAO,EAAC,eAAzB;AAAyC,QAAA,KAAK,EAAC,QAA/C;AAAwD,QAAA,MAAM,EAAE,EAAhE;AAAoE,QAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAE,OAAd;AAAuBC,UAAAA,MAAM,EAAE,KAA/B;AAAsCC,UAAAA,OAAO,EAAE;AAA/C,SAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAT;AAAuB,QAAA,EAAE,EAAE;AAAEA,UAAAA,IAAI,EAAE;AAAR,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,MAAM,EAAC,QAAb;AAAsB,QAAA,QAAQ,EAAE,KAAKjE,YAArC;AAAmD,QAAA,KAAK,EAAE;AAAEkE,UAAAA,KAAK,EAAE;AAAT,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CADJ,EAII,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKR,iBAAiB,CAAC,UAAD,EAAa;AAC3BS,QAAAA,KAAK,EAAE,CAAC;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkBC,UAAAA,OAAO,EAAE;AAA3B,SAAD,CADoB;AAE3BC,QAAAA,YAAY,EAAE;AAFa,OAAb,CAAjB,CAIG,oBAAC,WAAD;AAAa,QAAA,GAAG,EAAE,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJH,CADL,CAJJ,EAYI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKZ,iBAAiB,CAAC,QAAD,EAAW;AACzBS,QAAAA,KAAK,EAAE,CAAC;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkBC,UAAAA,OAAO,EAAE;AAA3B,SAAD,CADkB;AAEzBC,QAAAA,YAAY,EAAE;AAFW,OAAX,CAAjB,CAIG,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,EAGI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,EAII,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJJ,CAJH,CADL,CAZJ,EAyBI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AACI,QAAA,IAAI,EAAC,SADT;AAEI,QAAA,QAAQ,EAAC,QAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CAzBJ,CADJ,CADJ,CADJ,EAwCI,oBAAC,GAAD;AAAK,QAAA,MAAM,EAAE,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE;AAAEN,UAAAA,IAAI,EAAE;AAAR,SAAT;AAAuB,QAAA,EAAE,EAAE;AAAEA,UAAAA,IAAI,EAAE;AAAR,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,WAAW,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA6B;AAAI,QAAA,KAAK,EAAE;AAAErC,UAAAA,KAAK,EAAE;AAAT,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAA7B,CADJ,EAEI;AAAK,QAAA,KAAK,EAAE;AAAE4C,UAAAA,MAAM,YAAKb,WAAL;AAAR,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,aAAD;AACI,QAAA,MAAM,EAAE;AACJc,UAAAA,GAAG,EAAE,EADD;AAEJC,UAAAA,KAAK,EAAE,EAFH;AAGJC,UAAAA,MAAM,EAAE,EAHJ;AAIJC,UAAAA,IAAI,EAAE;AAJF,SADZ;AAOI,QAAA,UAAU,EAAE,IAPhB;AAQI,QAAA,IAAI,EAAE,KAAKvC,KAAL,CAAWH,KARrB;AASI,QAAA,OAAO,EAAC,UATZ;AAUI,QAAA,IAAI,EAAE,KAAKG,KAAL,CAAWD,IAVrB;AAWI,QAAA,MAAM,EAAE,KAAKC,KAAL,CAAWF,MAXvB;AAYI,QAAA,OAAO,EAAE,GAZb;AAaI,QAAA,cAAc,EAAC,SAbnB;AAcI,QAAA,cAAc,EAAE,EAdpB;AAeI,QAAA,eAAe,EAAE,EAfrB;AAgBI,QAAA,OAAO,EAAE,IAhBb;AAiBI,QAAA,eAAe,EAAE,EAjBrB;AAkBI,QAAA,aAAa,EAAE,EAlBnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFJ,EAwBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKE,KAAL,CAAWR,MAAX,CAAkBR,GAAlB,CAAsB,UAAAN,KAAK;AAAA,eAAI;AAAK,UAAA,GAAG,gBAASA,KAAK,CAACQ,IAAf,CAAR;AAA+B,UAAA,KAAK,EAAE;AAAEsD,YAAAA,OAAO,EAAE,MAAX;AAAmBC,YAAAA,UAAU,EAAE,QAA/B;AAAyCC,YAAAA,WAAW,EAAE,MAAtD;AAA8DC,YAAAA,UAAU,EAAE;AAA1E,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA0H;AAAK,UAAA,KAAK,EAAE;AAAER,YAAAA,MAAM,EAAE,MAAV;AAAkBD,YAAAA,KAAK,EAAE,MAAzB;AAAiCT,YAAAA,UAAU,EAAE/C,KAAK,CAACa;AAAnD,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA1H,EAAoM;AAAM,UAAA,KAAK,EAAE;AAAEoD,YAAAA,UAAU,EAAE;AAAd,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqCjE,KAAK,CAACQ,IAA3C,CAApM,CAAJ;AAAA,OAA3B,CADL,CAxBJ,CADJ,CADJ,EAgCI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE;AAAE0C,UAAAA,IAAI,EAAE;AAAR,SAAT;AAAuB,QAAA,EAAE,EAAE;AAAEA,UAAAA,IAAI,EAAE;AAAR,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,WAAW,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4B;AAAI,QAAA,KAAK,EAAE;AAAErC,UAAAA,KAAK,EAAE;AAAT,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAA5B,CADJ,EAKI;AAAK,QAAA,KAAK,EAAE;AAAE4C,UAAAA,MAAM,YAAKb,WAAL;AAAR,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,aAAD;AACI,QAAA,MAAM,EAAE;AACJc,UAAAA,GAAG,EAAE,EADD;AAEJC,UAAAA,KAAK,EAAE,EAFH;AAGJC,UAAAA,MAAM,EAAE,EAHJ;AAIJC,UAAAA,IAAI,EAAE;AAJF,SADZ;AAOI,QAAA,IAAI,EAAE,KAAKvC,KAAL,CAAWP,OAPrB;AAQI,QAAA,OAAO,MARX;AASI,QAAA,WAAW,EAAE,GATjB;AAUI,QAAA,QAAQ,EAAE,CAVd;AAWI,QAAA,YAAY,EAAE,CAXlB;AAYI,QAAA,MAAM,EAAE,KAAKO,KAAL,CAAWF,MAZvB;AAaI,QAAA,qBAAqB,EAAC,SAb1B;AAcI,QAAA,2BAA2B,EAAE,CAdjC;AAeI,QAAA,qBAAqB,EAAC,qBAf1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CALJ,EAyBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKE,KAAL,CAAWR,MAAX,CAAkBR,GAAlB,CAAsB,UAAAN,KAAK;AAAA,eAAI;AAAK,UAAA,GAAG,gBAASA,KAAK,CAACQ,IAAf,CAAR;AAA+B,UAAA,KAAK,EAAE;AAAEsD,YAAAA,OAAO,EAAE,MAAX;AAAmBC,YAAAA,UAAU,EAAE,QAA/B;AAAyCC,YAAAA,WAAW,EAAE,MAAtD;AAA8DC,YAAAA,UAAU,EAAE;AAA1E,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA0H;AAAK,UAAA,KAAK,EAAE;AAAER,YAAAA,MAAM,EAAE,MAAV;AAAkBD,YAAAA,KAAK,EAAE,MAAzB;AAAiCT,YAAAA,UAAU,EAAE/C,KAAK,CAACa;AAAnD,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA1H,EAAoM;AAAM,UAAA,KAAK,EAAE;AAAEoD,YAAAA,UAAU,EAAE;AAAd,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqCjE,KAAK,CAACQ,IAA3C,CAApM,CAAJ;AAAA,OAA3B,CADL,CAzBJ,CADJ,CAhCJ,EAgEK,KAAKc,KAAL,CAAWC,QAAX,IAAuB,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE;AAAE2B,UAAAA,IAAI,EAAE;AAAR,SAAT;AAAuB,QAAA,EAAE,EAAE;AAAEA,UAAAA,IAAI,EAAE;AAAR,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACpB,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,WAAW,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4B;AAAI,QAAA,KAAK,EAAE;AAAErC,UAAAA,KAAK,EAAE;AAAT,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAkD,KAAKS,KAAL,CAAWrB,OAAX,CAAmBS,OAAnB,CAA2B,CAA3B,CAAlD,gCAA5B,CADJ,EAEI;AAAK,QAAA,KAAK,EAAE;AAAE+C,UAAAA,MAAM,YAAKb,WAAL;AAAR,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,kBAAD;AACI,QAAA,MAAM,EAAE;AACJc,UAAAA,GAAG,EAAE,EADD;AAEJC,UAAAA,KAAK,EAAE,EAFH;AAGJC,UAAAA,MAAM,EAAE,CAHJ;AAIJC,UAAAA,IAAI,EAAE;AAJF,SADZ;AAOI,QAAA,IAAI,EAAC,0BAPT;AAQI,QAAA,EAAE,EAAC,0BARP;AASI,QAAA,IAAI,EAAE,KAAKvC,KAAL,CAAWC,QATrB;AAUI,QAAA,UAAU,EAAC,SAVf;AAWI,QAAA,WAAW,EAAE,EAXjB;AAYI,QAAA,gBAAgB,EAAC,SAZrB;AAaI,QAAA,iBAAiB,EAAE,EAbvB;AAcI,QAAA,cAAc,EAAE,CAdpB;AAeI,QAAA,cAAc,EAAC,SAfnB;AAgBI,QAAA,OAAO,EAAE,CACL;AACI,oBAAU,cADd;AAEI,uBAAa,KAFjB;AAGI,wBAAc,CAAC,EAHnB;AAII,uBAAa,CAJjB;AAKI,uBAAa,EALjB;AAMI,wBAAc,EANlB;AAOI,2BAAiB;AAPrB,SADK,CAhBb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFJ,CADoB,CAhE5B,CAxCJ,CADJ;AA+IH;;;;EAhRqBzD,S;;AAmR1B,eAAeI,IAAI,CAACgG,MAAL,GAAcnF,WAAd,CAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport { Row, Col, Button, Form, Select, InputNumber, Divider } from 'antd';\n\nimport moment from 'moment';\n\nimport Board from '../components/board/Board';\n\nimport { ResponsiveBar } from '@nivo/bar';\n\nimport { ResponsivePie } from '@nivo/pie';\n\nimport { ResponsiveCalendar } from '@nivo/calendar';\n\nimport DataClient from '../api/DataClient';\n\nconst FormItem = Form.Item;\n\nconst Option = Select.Option;\n\n\nclass GeneralPage extends Component {\n\n    constructor(props) {\n        super(props);\n        this.dataClient = new DataClient('https://betatcc.herokuapp.com/datas');\n        this.state = {\n            datas: [],\n            colors: [],\n            keys: [],\n            pieData: [],\n            totalKg: 0,\n            timeLine: [],\n            legend: [],\n        }\n    }\n\n    async componentWillMount() {\n        const response = await this.dataClient.getAllWasteByPeriod('WEEK', 1);\n\n        console.log(response);\n\n        const responseFiltered = response.data.filter((value) => value.data > 0);\n\n        const start = new Date(2018, 0, 1, 0, 0, 0);\n        const end = new Date(2018, 11, 31, 11, 59, 59);\n\n        const responseTimeLine = (await this.dataClient.getWastesByPeriodFull(start, end)).data.reduce((acc, current) => [...acc, ...current.data], []).map((value) => {\n            value.collectionDate = new Date(value.collectionDate);\n            value.collectionDate.setHours(0);\n            value.collectionDate.setMinutes(0);\n            value.collectionDate.setSeconds(0);\n            return value;\n        });\n\n        const rs = {};\n\n        responseTimeLine.forEach(value => {\n            if (!rs[value.collectionDate]) {\n                rs[value.collectionDate] = {\n                    day: moment(value.collectionDate).format('YYYY-MM-DD'),\n                    value: value.quantityCollected\n                }\n            } else {\n                rs[value.collectionDate].value += value.quantityCollected;\n            }\n        });\n\n        const rs2 = Object.keys(rs).map(function (key) {\n            return rs[key];\n        });\n\n        const totalKg = responseFiltered.reduce((acc, current) => acc + current.data, 0);\n\n        const barDatas = responseFiltered.map(value => {\n            const obj = {};\n            obj[value.name] = value.data;\n            obj['residuos'] = value.name;\n            return obj;\n        });\n        const barKeys = responseFiltered.map(value => value.name);\n        const barColors = responseFiltered.map(value => value.color);\n\n        const pieData = responseFiltered.map(value => {\n            const obj = {};\n            obj.id = value.name;\n            obj.label = value.name;\n            obj.value = parseFloat(((value.data / totalKg) * 100).toFixed(2));\n            return obj;\n        });\n\n        const legend = responseFiltered.map(value => ({ name: value.name, color: value.color }));\n\n        this.setState({\n            datas: barDatas || [],\n            colors: barColors,\n            keys: barKeys,\n            pieData: pieData,\n            totalKg: totalKg,\n            timeLine: rs2,\n            legend: legend,\n        });\n    }\n\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.form.validateFields(async (err, values) => {\n            if (!err) {\n                const response = await this.dataClient.getAllWasteByPeriod(values.period, values.interval);\n                const responseFiltered = response.data.filter((value) => value.data > 0);\n\n\n                const totalKg = responseFiltered.reduce((acc, current) => acc + current.data, 0);\n\n                const barDatas = responseFiltered.map(value => {\n                    const obj = {};\n                    obj[value.name] = parseFloat(value.data.toFixed(2));\n                    obj['residuos'] = value.name;\n                    return obj;\n                });\n                const barKeys = responseFiltered.map(value => value.name);\n                const barColors = responseFiltered.map(value => value.color);\n                const legend = responseFiltered.map(value => ({ name: value.name, color: value.color }));\n\n                const pieData = responseFiltered.map(value => {\n                    const obj = {};\n                    obj.id = value.name;\n                    obj.label = value.name;\n                    obj.value = ((value.data / totalKg) * 100).toFixed(2);\n                    return obj;\n                });\n\n                this.setState({\n                    datas: barDatas || [],\n                    colors: barColors,\n                    keys: barKeys,\n                    pieData: pieData,\n                    totalKg: totalKg,\n                    legend: legend\n                });\n            }\n        });\n    }\n\n    render() {\n\n        const { getFieldDecorator } = this.props.form;\n\n        const heightBoard = window.innerHeight * 0.50;\n        return (\n            <>\n                <Row type=\"flex\" justify=\"space-between\" align=\"middle\" gutter={24} style={{ background: 'white', margin: '0px', padding: '10px 0px' }}>\n                    <Col xs={{ span: 24 }} lg={{ span: 24 }}>\n                        <Form layout=\"inline\" onSubmit={this.handleSubmit} style={{ float: 'right' }}>\n                            <FormItem>\n                                <span>Periodo</span>\n                            </FormItem>\n                            <FormItem>\n                                {getFieldDecorator('interval', {\n                                    rules: [{ required: true, message: 'O intervalo é obrigatório!' }],\n                                    initialValue: 1\n                                })(\n                                    <InputNumber min={1} />,\n                                )}\n                            </FormItem>\n                            <FormItem>\n                                {getFieldDecorator('period', {\n                                    rules: [{ required: true, message: 'O periodo é obrigatorio!' }],\n                                    initialValue: 'WEEK'\n                                })(\n                                    <Select style={{ width: 120 }}>\n                                        <Option value=\"DAY\">Dia</Option>\n                                        <Option value=\"WEEK\">Semana</Option>\n                                        <Option value=\"MONTH\">Mês</Option>\n                                        <Option value=\"YEAR\">Ano</Option>\n                                    </Select>\n                                )}\n                            </FormItem>\n                            <FormItem>\n                                <Button\n                                    type=\"primary\"\n                                    htmlType=\"submit\"\n                                >\n                                    Consultar\n                                </Button>\n                            </FormItem>\n                        </Form>\n                    </Col>\n                </Row>\n\n                <Row gutter={24}>\n                    <Col xs={{ span: 24 }} lg={{ span: 12 }}>\n                        <Board>\n                            <Divider orientation=\"left\"> <h3 style={{ color: '#618833' }}>Resíduos coletados em Kg</h3></Divider>\n                            <div style={{ height: `${heightBoard}px` }}>\n                                <ResponsiveBar\n                                    margin={{\n                                        top: 40,\n                                        right: 50,\n                                        bottom: 40,\n                                        left: 50\n                                    }}\n                                    axisBottom={null}\n                                    data={this.state.datas}\n                                    indexBy=\"residuos\"\n                                    keys={this.state.keys}\n                                    colors={this.state.colors}\n                                    padding={0.2}\n                                    labelTextColor='#ffffff'\n                                    labelSkipWidth={12}\n                                    labelSkipHeight={12}\n                                    animate={true}\n                                    motionStiffness={90}\n                                    motionDamping={15}\n                                />\n                            </div>\n                            <div>\n                                {this.state.legend.map(value => <div key={`bar-${value.name}`} style={{ display: 'flex', alignItems: 'center', marginRight: '20px', marginLeft: '10px' }}><div style={{ height: '10px', width: '10px', background: value.color }} /><span style={{ marginLeft: '5px' }}>{value.name}</span></div>)}\n                            </div>\n                        </Board>\n                    </Col>\n\n                    <Col xs={{ span: 24 }} lg={{ span: 12 }}>\n                        <Board>\n                            <Divider orientation=\"left\"><h3 style={{ color: '#618833' }}>Resíduos coletados em percentual</h3></Divider>\n\n\n\n                            <div style={{ height: `${heightBoard}px` }}>\n                                <ResponsivePie\n                                    margin={{\n                                        top: 40,\n                                        right: 50,\n                                        bottom: 55,\n                                        left: 50\n                                    }}\n                                    data={this.state.pieData}\n                                    animate\n                                    innerRadius={0.6}\n                                    padAngle={1}\n                                    cornerRadius={3}\n                                    colors={this.state.colors}\n                                    radialLabelsLinkColor=\"inherit\"\n                                    radialLabelsLinkStrokeWidth={3}\n                                    radialLabelsTextColor=\"inherit:darker(1.2)\"\n                                />\n\n                            </div>\n                            <div>\n                                {this.state.legend.map(value => <div key={`pie-${value.name}`} style={{ display: 'flex', alignItems: 'center', marginRight: '20px', marginLeft: '10px' }}><div style={{ height: '10px', width: '10px', background: value.color }} /><span style={{ marginLeft: '5px' }}>{value.name}</span></div>)}\n                            </div>\n                        </Board>\n                    </Col>\n\n                    {this.state.timeLine && <Col xs={{ span: 24 }} lg={{ span: 24 }}>\n                        <Board>\n                            <Divider orientation=\"left\"><h3 style={{ color: '#618833' }}>Foram coletados {this.state.totalKg.toFixed(2)} Kg de resíduos este ano</h3></Divider>\n                            <div style={{ height: `${heightBoard}px` }}>\n                                <ResponsiveCalendar\n                                    margin={{\n                                        top: 50,\n                                        right: 10,\n                                        bottom: 0,\n                                        left: 50\n                                    }}\n                                    from=\"2018-01-01T03:00:00.000Z\"\n                                    to=\"2018-12-31T03:00:00.000Z\"\n                                    data={this.state.timeLine}\n                                    emptyColor=\"#eeeeee\"\n                                    yearSpacing={40}\n                                    monthBorderColor=\"#ffffff\"\n                                    monthLegendOffset={10}\n                                    dayBorderWidth={2}\n                                    dayBorderColor=\"#ffffff\"\n                                    legends={[\n                                        {\n                                            \"anchor\": \"bottom-right\",\n                                            \"direction\": \"row\",\n                                            \"translateY\": -80,\n                                            \"itemCount\": 4,\n                                            \"itemWidth\": 34,\n                                            \"itemHeight\": 36,\n                                            \"itemDirection\": \"top-to-bottom\"\n                                        }\n                                    ]}\n                                />\n                            </div>\n                        </Board>\n                    </Col>}\n                </Row>\n            </>\n        );\n    }\n}\n\nexport default Form.create()(GeneralPage);"]},"metadata":{},"sourceType":"module"}