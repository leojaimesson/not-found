(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{249:function(e,t,a){e.exports=a(519)},254:function(e,t,a){},316:function(e,t,a){},513:function(e,t,a){},515:function(e,t,a){},519:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(9),i=a.n(o),l=(a(254),a(30)),c=a(41),s=a(40),u=a(42),m=a(529),p=a(528),d=a(520),f=a(521),h=a(58),g=m.a.Header,y=m.a.Content,E=m.a.Sider,v=m.a.Footer,b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a.render=function(){return r.a.createElement(m.a,{style:{height:"100%",overflow:"auto"}},r.a.createElement(p.a,{title:r.a.createElement("span",{style:{fontWeight:"bolder",fontSize:"1.5em",color:"#618833"}},"NotFound"),placement:a.state.placement,onClose:a.onClose,visible:a.state.visible,style:{padding:"24px 0px"}},a.props.menu),r.a.createElement(E,{breakpoint:"lg",collapsedWidth:"0",width:250,onBreakpoint:function(e){},onCollapse:function(e,t){},style:{background:"#fff"}},r.a.createElement("div",{className:"logo"},"NotFound"),a.props.menu),r.a.createElement(m.a,null,r.a.createElement(g,{style:{background:"#8bc34a",padding:"0px 14px"}},r.a.createElement(d.a,{type:"flex",justify:"space-between",align:"middle",style:{height:"100%"}},r.a.createElement(f.a,{className:"hide"},r.a.createElement(h.a,{className:"trigger",type:"menu-fold",onClick:a.showDrawer})),r.a.createElement(f.a,null,r.a.createElement("h2",{style:{margin:"0px"}},a.props.titlePage)),r.a.createElement(f.a,null,r.a.createElement(d.a,{type:"flex",justify:"space-between",align:"middle",style:{height:"100%"}})))),r.a.createElement(y,{style:{padding:"20px 14px 45px 14px",boxSizing:"border-box",height:"100%",overflow:"auto"}},a.props.content),r.a.createElement(v,{style:{textAlign:"center",bottom:"0px",width:"100%",background:"#618833",padding:"10px "}},"NotFound \xa92018 Created by Leo Jaimesson")))},a.state={visible:!1,placement:"left"},a}return Object(u.a)(t,e),t}(r.a.PureComponent),x=a(158),w=a(16),k=a.n(w),O=a(36),j=a(61),C=a(523),D=a(524),W=a(526),S=a(527),F=a(522),B=a(233),L=a.n(B),T=(a(316),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"board",style:{height:this.props.height,width:this.props.width}},this.props.children)}}]),t}(n.Component)),P=a(234),N=a(235),R=a(236),A=a(237),q=a.n(A),I=function(){function e(t){Object(l.a)(this,e),this.url=t,this.request=q.a.create({baseURL:t,timeout:3e4,headers:{"Content-Type":"application/json"}})}return Object(j.a)(e,[{key:"getAllWasteByPeriod",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a,n){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/all-wastes?period=".concat(t,"&interval=").concat(a,"&idTypeSolidWaste=").concat(n||""));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAllWasteByPeriodFull",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a,n){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/all-wastes-full?period=".concat(t,"&interval=").concat(a,"&idTypeSolidWaste=").concat(n||""));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getWastesByPeriod",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a,n){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/roda?startDate=".concat(t,"&endDate=").concat(a,"&idTypeSolidWaste=").concat(n||""));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getWastesByPeriodFull",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a,n){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/roda-full?startDate=".concat(t,"&endDate=").concat(a,"&idTypeSolidWaste=").concat(n||""));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getWasteByPeriod",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a,n){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.get("/wastes?period=".concat(t,"&interval=").concat(a,"&idTypeSolidWaste=").concat(n||""));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),K=C.a.Item,Y=D.a.Option,H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(O.a)(k.a.mark(function e(t,n){var r,o,i,l,c,s,u,m;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=12;break}return e.next=3,a.dataClient.getAllWasteByPeriod(n.period,n.interval);case 3:r=e.sent,o=r.data.filter(function(e){return e.data>0}),i=o.reduce(function(e,t){return e+t.data},0),l=o.map(function(e){var t={};return t[e.name]=parseFloat(e.data.toFixed(2)),t.residuos=e.name,t}),c=o.map(function(e){return e.name}),s=o.map(function(e){return e.color}),u=o.map(function(e){return{name:e.name,color:e.color}}),m=o.map(function(e){var t={};return t.id=e.name,t.label=e.name,t.value=(e.data/i*100).toFixed(2),t}),a.setState({datas:l||[],colors:s,keys:c,pieData:m,totalKg:i,legend:u});case 12:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.dataClient=new I("https://betatcc.herokuapp.com/datas"),a.state={datas:[],colors:[],keys:[],pieData:[],totalKg:0,timeLine:[],legend:[]},a}return Object(u.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,r,o,i,l,c,s,u,m,p,d;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataClient.getAllWasteByPeriod("WEEK",1);case 2:return t=e.sent,console.log(t),a=t.data.filter(function(e){return e.data>0}),n=new Date(2018,0,1,0,0,0),r=new Date(2018,11,31,11,59,59),e.next=9,this.dataClient.getWastesByPeriodFull(n,r);case 9:e.t0=function(e,t){return Object(x.a)(e).concat(Object(x.a)(t.data))},e.t1=[],e.t2=function(e){return e.collectionDate=new Date(e.collectionDate),e.collectionDate.setHours(0),e.collectionDate.setMinutes(0),e.collectionDate.setSeconds(0),e},o=e.sent.data.reduce(e.t0,e.t1).map(e.t2),i={},o.forEach(function(e){i[e.collectionDate]?i[e.collectionDate].value+=e.quantityCollected:i[e.collectionDate]={day:L()(e.collectionDate).format("YYYY-MM-DD"),value:e.quantityCollected}}),l=Object.keys(i).map(function(e){return i[e]}),c=a.reduce(function(e,t){return e+t.data},0),s=a.map(function(e){var t={};return t[e.name]=parseFloat(e.data.toFixed(2)),t.residuos=e.name,t}),u=a.map(function(e){return e.name}),m=a.map(function(e){return e.color}),p=a.map(function(e){var t={};return t.id=e.name,t.label=e.name,t.value=parseFloat((e.data/c*100).toFixed(2)),t}),d=a.map(function(e){return{name:e.name,color:e.color}}),this.setState({datas:s||[],colors:m,keys:u,pieData:p,totalKg:c,timeLine:l,legend:d});case 23:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=.5*window.innerHeight;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{type:"flex",justify:"space-between",align:"middle",gutter:24,style:{background:"white",margin:"0px",padding:"10px 0px"}},r.a.createElement(f.a,{xs:{span:24},lg:{span:24}},r.a.createElement(C.a,{layout:"inline",onSubmit:this.handleSubmit,style:{float:"right"}},r.a.createElement(K,null,r.a.createElement("span",null,"Periodo")),r.a.createElement(K,null,e("interval",{rules:[{required:!0,message:"O intervalo \xe9 obrigat\xf3rio!"}],initialValue:1})(r.a.createElement(W.a,{min:1}))),r.a.createElement(K,null,e("period",{rules:[{required:!0,message:"O periodo \xe9 obrigatorio!"}],initialValue:"WEEK"})(r.a.createElement(D.a,{style:{width:120}},r.a.createElement(Y,{value:"DAY"},"Dia"),r.a.createElement(Y,{value:"WEEK"},"Semana"),r.a.createElement(Y,{value:"MONTH"},"M\xeas"),r.a.createElement(Y,{value:"YEAR"},"Ano")))),r.a.createElement(K,null,r.a.createElement(S.a,{type:"primary",htmlType:"submit"},"Consultar"))))),r.a.createElement(d.a,{gutter:24},r.a.createElement(f.a,{xs:{span:24},lg:{span:12}},r.a.createElement(T,null,r.a.createElement(F.a,{orientation:"left"}," ",r.a.createElement("h3",{style:{color:"#618833"}},"Res\xedduos coletados em Kg")),r.a.createElement("div",{style:{height:"".concat(t,"px")}},r.a.createElement(P.ResponsiveBar,{margin:{top:40,right:50,bottom:40,left:50},axisBottom:null,data:this.state.datas,indexBy:"residuos",keys:this.state.keys,colors:this.state.colors,padding:.2,labelTextColor:"#ffffff",labelSkipWidth:12,labelSkipHeight:12,animate:!0,motionStiffness:90,motionDamping:15})),r.a.createElement("div",null,this.state.legend.map(function(e){return r.a.createElement("div",{key:"bar-".concat(e.name),style:{display:"flex",alignItems:"center",marginRight:"20px",marginLeft:"10px"}},r.a.createElement("div",{style:{height:"10px",width:"10px",background:e.color}}),r.a.createElement("span",{style:{marginLeft:"5px"}},e.name))})))),r.a.createElement(f.a,{xs:{span:24},lg:{span:12}},r.a.createElement(T,null,r.a.createElement(F.a,{orientation:"left"},r.a.createElement("h3",{style:{color:"#618833"}},"Res\xedduos coletados em percentual")),r.a.createElement("div",{style:{height:"".concat(t,"px")}},r.a.createElement(N.ResponsivePie,{margin:{top:40,right:50,bottom:55,left:50},data:this.state.pieData,animate:!0,innerRadius:.6,padAngle:1,cornerRadius:3,colors:this.state.colors,radialLabelsLinkColor:"inherit",radialLabelsLinkStrokeWidth:3,radialLabelsTextColor:"inherit:darker(1.2)",slicesLabelsTextColor:"#ffffff"})),r.a.createElement("div",null,this.state.legend.map(function(e){return r.a.createElement("div",{key:"pie-".concat(e.name),style:{display:"flex",alignItems:"center",marginRight:"20px",marginLeft:"10px"}},r.a.createElement("div",{style:{height:"10px",width:"10px",background:e.color}}),r.a.createElement("span",{style:{marginLeft:"5px"}},e.name))})))),this.state.timeLine&&r.a.createElement(f.a,{xs:{span:24},lg:{span:24}},r.a.createElement(T,null,r.a.createElement(F.a,{orientation:"left"},r.a.createElement("h3",{style:{color:"#618833"}},"Coletas deste ano - Total: ",this.state.totalKg.toFixed(2)," Kg")),r.a.createElement("div",{style:{height:"".concat(t,"px")}},r.a.createElement(R.ResponsiveCalendar,{margin:{top:50,right:10,bottom:0,left:50},from:"2018-01-01T03:00:00.000Z",to:"2018-12-31T03:00:00.000Z",data:this.state.timeLine,emptyColor:"#eeeeee",yearSpacing:40,monthBorderColor:"#ffffff",monthLegendOffset:10,dayBorderWidth:2,dayBorderColor:"#ffffff",legends:[{anchor:"bottom-right",direction:"row",translateY:-80,itemCount:4,itemWidth:34,itemHeight:36,itemDirection:"top-to-bottom"}]}))))))}}]),t}(r.a.PureComponent),M=C.a.create()(H),V=a(525),z=(a(495),a(497),a(499),a(501),a(503),a(505),a(507),a(509),a(511),a(513),a(515),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement(b,{menu:r.a.createElement(V.a,{mode:"inline",style:{zIndex:"999"}},r.a.createElement(V.a.Item,{key:"1"},r.a.createElement(h.a,{type:"home"}),r.a.createElement("span",{className:"nav-text"},"Vis\xe3o Geral")),r.a.createElement(V.a.Item,{key:"3"},r.a.createElement(h.a,{type:"tag"}),r.a.createElement("span",{className:"nav-text"},"Tipos de Res\xedduos S\xf3lidos")),r.a.createElement(V.a.Item,{key:"4"},r.a.createElement(h.a,{type:"delete"}),r.a.createElement("span",{className:"nav-text"},"Coletas")),r.a.createElement(V.a.Item,{key:"5"},r.a.createElement(h.a,{type:"line-chart"}),r.a.createElement("span",{className:"nav-text"},"An\xe1lises")),r.a.createElement(V.a.Item,{key:"6"},r.a.createElement(h.a,{type:"file-text"}),r.a.createElement("span",{className:"nav-text"},"Relat\xf3rios"))),content:r.a.createElement(M,null),titlePage:"Vis\xe3o Geral"})},a}return Object(u.a)(t,e),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[249,2,1]]]);
//# sourceMappingURL=main.bafdd26b.chunk.js.map